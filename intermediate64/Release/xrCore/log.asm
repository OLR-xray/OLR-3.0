; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

include listing.inc

INCLUDELIB OLDNAMES

PUBLIC	??$addressof@$$CBVshared_str@@@std@@YAPEBVshared_str@@AEBV1@@Z ; std::addressof<shared_str const >
PUBLIC	??$forward@AEAVshared_str@@@std@@YAAEAVshared_str@@AEAV1@@Z ; std::forward<shared_str & __ptr64>
PUBLIC	??$_Cons_val@V?$xalloc@Vshared_str@@@@Vshared_str@@AEAV2@@std@@YAXAEAV?$xalloc@Vshared_str@@@@PEAVshared_str@@AEAV2@@Z ; std::_Cons_val<xalloc<shared_str>,shared_str,shared_str & __ptr64>
PUBLIC	??$_Cons_val@V?$xalloc@Vshared_str@@@@Vshared_str@@AEBV2@@std@@YAXAEAV?$xalloc@Vshared_str@@@@PEAVshared_str@@AEBV2@@Z ; std::_Cons_val<xalloc<shared_str>,shared_str,shared_str const & __ptr64>
PUBLIC	?push_back@?$vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@QEAAXAEBVshared_str@@@Z ; std::vector<shared_str,xalloc<shared_str> >::push_back
PUBLIC	??$xr_new@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@YAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@XZ ; xr_new<xr_vector<shared_str,xalloc<shared_str> > >
PUBLIC	??D?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEBAAEAVshared_str@@XZ ; std::_Vector_iterator<std::_Vector_val<shared_str,xalloc<shared_str> > >::operator*
PUBLIC	??Y?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEAAAEAV01@_J@Z ; std::_Vector_iterator<std::_Vector_val<shared_str,xalloc<shared_str> > >::operator+=
PUBLIC	??H?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEBA?AV01@_J@Z ; std::_Vector_iterator<std::_Vector_val<shared_str,xalloc<shared_str> > >::operator+
PUBLIC	??A?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAAAEAVshared_str@@_K@Z ; xr_vector<shared_str,xalloc<shared_str> >::operator[]
PUBLIC	??_G?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAAPEAXI@Z ; xr_vector<shared_str,xalloc<shared_str> >::`scalar deleting destructor'
PUBLIC	??R?$xr_special_free@$0A@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@QEAAXAEAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@Z ; xr_special_free<0,xr_vector<shared_str,xalloc<shared_str> > >::operator()
PUBLIC	??$xr_delete@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@YAXAEAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@Z ; xr_delete<xr_vector<shared_str,xalloc<shared_str> > >
PUBLIC	?LogWriter@@3PEAVIWriter@@EA			; LogWriter
PUBLIC	?LogExecCB@@3HA					; LogExecCB
PUBLIC	?verbosity_level@@3IA				; verbosity_level
PUBLIC	?force_flush_log@@3_NA				; force_flush_log
PUBLIC	?LogFile@@3PEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@EA ; LogFile
PUBLIC	?cached_log@@3_KA				; cached_log
PUBLIC	??_C@_0CG@DOMCHCAE@?$FL?$CF02d?4?$CF02d?4?$CF02d?5?$CF02d?3?$CF02d?3?$CF02d?4?$CF@ ; `string'
PUBLIC	??_C@_06PADMJNAK@?$CFs?$CFs?$AN?6?$AA@		; `string'
PUBLIC	??_C@_09PMCACMHN@?$CDCONTEXT?3?$AA@		; `string'
PUBLIC	??_C@_0BK@EDFKPBBE@?$FL?$CF02d?3?$CF02d?3?$CF02d?4?$CF03d?$FN?4?5?$CFs?$AA@ ; `string'
PUBLIC	??_C@_0O@LCKMNMMD@?$CDDUMP_CONTEXT?$AA@		; `string'
PUBLIC	??_C@_0BF@FNJBEDFL@?$CDDEBUG?5CONTEXT?5DUMP?3?$AA@ ; `string'
PUBLIC	??_C@_04CFBKFMDG@?$CD?5?$CFs?$AA@		; `string'
PUBLIC	??_C@_05DNIIFBMG@?$CFs?5?$CFs?$AA@		; `string'
PUBLIC	??_C@_02DKCKIIND@?$CFs?$AA@			; `string'
PUBLIC	??_C@_05DIALNFFA@?$CFs?5?$CFd?$AA@		; `string'
PUBLIC	??_C@_05KDNLHNC@?$CFs?5?$CFf?$AA@		; `string'
PUBLIC	??_C@_0O@LEOODNAC@?$CFs?5?$CI?$CFf?0?$CFf?0?$CFf?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0DF@PAGJPMKE@?$CFs?3?6?$CFf?0?$CFf?0?$CFf?0?$CFf?6?$CFf?0?$CFf?0?$CFf?0?$CFf?6?$CFf?0?$CF@ ; `string'
PUBLIC	??_C@_06DJHOIPC@?$CFs?3?5?$CFs?$AA@		; `string'
PUBLIC	??_C@_07OMNKEAIN@InitLog?$AA@			; `string'
PUBLIC	??_C@_07FJDKEOKC@log?4cpp?$AA@			; `string'
PUBLIC	??_C@_0O@EOBOPHIF@LogFile?$DN?$DNNULL?$AA@	; `string'
PUBLIC	??_C@_04FPOLKAEB@?4log?$AA@			; `string'
PUBLIC	??_C@_05NAOIJFC@Error?$AA@			; `string'
PUBLIC	??_C@_0BH@FLDDKOBP@Can?8t?5create?5log?5file?4?$AA@ ; `string'
PUBLIC	??_C@_08DCHCECCB@?$FL?$CFx?5?$CFX?$FN?7?$AA@	; `string'
PUBLIC	??_C@_05JMJKDBEJ@?$CFs?$CFs?6?$AA@		; `string'
EXTRN	__imp_strtok:PROC
EXTRN	__imp_GetLocalTime:PROC
EXTRN	__imp__vsnprintf:PROC
EXTRN	__imp_strftime:PROC
EXTRN	__imp__localtime64:PROC
EXTRN	__imp__time64:PROC
?LogWriter@@3PEAVIWriter@@EA DQ 01H DUP (?)		; LogWriter
?force_flush_log@@3_NA DB 01H DUP (?)			; force_flush_log
	ALIGN	8

?LogFile@@3PEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@EA DQ 01H DUP (?) ; LogFile
LogCB	DQ	01H DUP (?)
?cached_log@@3_KA DQ 01H DUP (?)			; cached_log
;	COMDAT ?ctx_index@?1??MsgCB@@YAXPEBDZZ@4IA
_BSS	SEGMENT
?ctx_index@?1??MsgCB@@YAXPEBDZZ@4IA DD 01H DUP (?)	; `MsgCB'::`2'::ctx_index
_BSS	ENDS
;	COMDAT ?ignore_always@?3??InitLog@@YAXXZ@4_NA
_BSS	SEGMENT
?ignore_always@?3??InitLog@@YAXXZ@4_NA DB 01H DUP (?)	; `InitLog'::`4'::ignore_always
;	COMDAT ??_C@_05JMJKDBEJ@?$CFs?$CFs?6?$AA@
CONST	SEGMENT
??_C@_05JMJKDBEJ@?$CFs?$CFs?6?$AA@ DB '%s%s', 0aH, 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_08DCHCECCB@?$FL?$CFx?5?$CFX?$FN?7?$AA@
CONST	SEGMENT
??_C@_08DCHCECCB@?$FL?$CFx?5?$CFX?$FN?7?$AA@ DB '[%x %X]', 09H, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@FLDDKOBP@Can?8t?5create?5log?5file?4?$AA@
CONST	SEGMENT
??_C@_0BH@FLDDKOBP@Can?8t?5create?5log?5file?4?$AA@ DB 'Can''t create log'
	DB	' file.', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_05NAOIJFC@Error?$AA@
CONST	SEGMENT
??_C@_05NAOIJFC@Error?$AA@ DB 'Error', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_04FPOLKAEB@?4log?$AA@
CONST	SEGMENT
??_C@_04FPOLKAEB@?4log?$AA@ DB '.log', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@EOBOPHIF@LogFile?$DN?$DNNULL?$AA@
CONST	SEGMENT
??_C@_0O@EOBOPHIF@LogFile?$DN?$DNNULL?$AA@ DB 'LogFile==NULL', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_07FJDKEOKC@log?4cpp?$AA@
CONST	SEGMENT
??_C@_07FJDKEOKC@log?4cpp?$AA@ DB 'log.cpp', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_07OMNKEAIN@InitLog?$AA@
CONST	SEGMENT
??_C@_07OMNKEAIN@InitLog?$AA@ DB 'InitLog', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06DJHOIPC@?$CFs?3?5?$CFs?$AA@
CONST	SEGMENT
??_C@_06DJHOIPC@?$CFs?3?5?$CFs?$AA@ DB '%s: %s', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0DF@PAGJPMKE@?$CFs?3?6?$CFf?0?$CFf?0?$CFf?0?$CFf?6?$CFf?0?$CFf?0?$CFf?0?$CFf?6?$CFf?0?$CF@
CONST	SEGMENT
??_C@_0DF@PAGJPMKE@?$CFs?3?6?$CFf?0?$CFf?0?$CFf?0?$CFf?6?$CFf?0?$CFf?0?$CFf?0?$CFf?6?$CFf?0?$CF@ DB '%'
	DB	's:', 0aH, '%f,%f,%f,%f', 0aH, '%f,%f,%f,%f', 0aH, '%f,%f,%f,%'
	DB	'f', 0aH, '%f,%f,%f,%f', 0aH, 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@LEOODNAC@?$CFs?5?$CI?$CFf?0?$CFf?0?$CFf?$CJ?$AA@
CONST	SEGMENT
??_C@_0O@LEOODNAC@?$CFs?5?$CI?$CFf?0?$CFf?0?$CFf?$CJ?$AA@ DB '%s (%f,%f,%'
	DB	'f)', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_05KDNLHNC@?$CFs?5?$CFf?$AA@
CONST	SEGMENT
??_C@_05KDNLHNC@?$CFs?5?$CFf?$AA@ DB '%s %f', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_05DIALNFFA@?$CFs?5?$CFd?$AA@
CONST	SEGMENT
??_C@_05DIALNFFA@?$CFs?5?$CFd?$AA@ DB '%s %d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_02DKCKIIND@?$CFs?$AA@
CONST	SEGMENT
??_C@_02DKCKIIND@?$CFs?$AA@ DB '%s', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_05DNIIFBMG@?$CFs?5?$CFs?$AA@
CONST	SEGMENT
??_C@_05DNIIFBMG@?$CFs?5?$CFs?$AA@ DB '%s %s', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_04CFBKFMDG@?$CD?5?$CFs?$AA@
CONST	SEGMENT
??_C@_04CFBKFMDG@?$CD?5?$CFs?$AA@ DB '# %s', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@FNJBEDFL@?$CDDEBUG?5CONTEXT?5DUMP?3?$AA@
CONST	SEGMENT
??_C@_0BF@FNJBEDFL@?$CDDEBUG?5CONTEXT?5DUMP?3?$AA@ DB '#DEBUG CONTEXT DUM'
	DB	'P:', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@LCKMNMMD@?$CDDUMP_CONTEXT?$AA@
CONST	SEGMENT
??_C@_0O@LCKMNMMD@?$CDDUMP_CONTEXT?$AA@ DB '#DUMP_CONTEXT', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BK@EDFKPBBE@?$FL?$CF02d?3?$CF02d?3?$CF02d?4?$CF03d?$FN?4?5?$CFs?$AA@
CONST	SEGMENT
??_C@_0BK@EDFKPBBE@?$FL?$CF02d?3?$CF02d?3?$CF02d?4?$CF03d?$FN?4?5?$CFs?$AA@ DB '['
	DB	'%02d:%02d:%02d.%03d]. %s', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_09PMCACMHN@?$CDCONTEXT?3?$AA@
CONST	SEGMENT
??_C@_09PMCACMHN@?$CDCONTEXT?3?$AA@ DB '#CONTEXT:', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_06PADMJNAK@?$CFs?$CFs?$AN?6?$AA@
CONST	SEGMENT
??_C@_06PADMJNAK@?$CFs?$CFs?$AN?6?$AA@ DB '%s%s', 0dH, 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CG@DOMCHCAE@?$FL?$CF02d?4?$CF02d?4?$CF02d?5?$CF02d?3?$CF02d?3?$CF02d?4?$CF@
CONST	SEGMENT
??_C@_0CG@DOMCHCAE@?$FL?$CF02d?4?$CF02d?4?$CF02d?5?$CF02d?3?$CF02d?3?$CF02d?4?$CF@ DB '['
	DB	'%02d.%02d.%02d %02d:%02d:%02d.%03d] ', 00H	; `string'
?LogExecCB@@3HA DD 01H					; LogExecCB
no_log	DD	01H
	ORG $+4
logFName DB	'engine.log', 00H
	ORG $+509
?verbosity_level@@3IA DD 03H				; verbosity_level
; Function compile flags: /Ogtpy
; File c:\program files (x86)\microsoft visual studio 10.0\vc\include\time.inl
_TEXT	SEGMENT
_Time$ = 8
time	PROC

; 133  :     return _time64(_Time);
; 134  : }

	rex_jmp	QWORD PTR __imp__time64
time	ENDP
; Function compile flags: /Ogtpy
_Time$ = 8
localtime PROC

; 114  : #pragma warning( push )
; 115  : #pragma warning( disable : 4996 )
; 116  :     return _localtime64(_Time);
; 117  : #pragma warning( pop )
; 118  : }

	rex_jmp	QWORD PTR __imp__localtime64
localtime ENDP
; Function compile flags: /Odspy
; File c:\program files (x86)\microsoft visual studio 10.0\vc\include\utility
_TEXT	ENDS
;	COMDAT ??$forward@AEAVshared_str@@@std@@YAAEAVshared_str@@AEAV1@@Z
_TEXT	SEGMENT
_Arg$ = 8
??$forward@AEAVshared_str@@@std@@YAAEAVshared_str@@AEAV1@@Z PROC ; std::forward<shared_str & __ptr64>, COMDAT

; 78   : 	{	// forward _Arg, given explicitly specified type parameter

	mov	QWORD PTR [rsp+8], rcx

; 79   : 	return ((_Ty&&)_Arg);

	mov	rax, QWORD PTR _Arg$[rsp]

; 80   : 	}

	ret	0
??$forward@AEAVshared_str@@@std@@YAAEAVshared_str@@AEAV1@@Z ENDP ; std::forward<shared_str & __ptr64>
; Function compile flags: /Odspy
; File c:\program files (x86)\microsoft visual studio 10.0\vc\include\xmemory
_TEXT	ENDS
;	COMDAT ??$addressof@$$CBVshared_str@@@std@@YAPEBVshared_str@@AEBV1@@Z
_TEXT	SEGMENT
_Val$ = 8
??$addressof@$$CBVshared_str@@@std@@YAPEBVshared_str@@AEBV1@@Z PROC ; std::addressof<shared_str const >, COMDAT

; 110  : 	{	// return address of _Val

	mov	QWORD PTR [rsp+8], rcx

; 111  : 	return ((_Ty *) &(char&)_Val);

	mov	rax, QWORD PTR _Val$[rsp]

; 112  : 	}

	ret	0
??$addressof@$$CBVshared_str@@@std@@YAPEBVshared_str@@AEBV1@@Z ENDP ; std::addressof<shared_str const >
_TEXT	ENDS
PUBLIC	?GetLogCB@@YAP6AXPEBD@ZXZ			; GetLogCB
; Function compile flags: /Odspy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\log.cpp
_TEXT	SEGMENT
?GetLogCB@@YAP6AXPEBD@ZXZ PROC				; GetLogCB

; 294  : 	return LogCB;

	mov	rax, QWORD PTR LogCB

; 295  : }

	ret	0
?GetLogCB@@YAP6AXPEBD@ZXZ ENDP				; GetLogCB
_TEXT	ENDS
PUBLIC	?SetLogCB@@YAXP6AXPEBD@Z@Z			; SetLogCB
; Function compile flags: /Odspy
_TEXT	SEGMENT
cb$ = 8
?SetLogCB@@YAXP6AXPEBD@Z@Z PROC				; SetLogCB

; 288  : {

	mov	QWORD PTR [rsp+8], rcx

; 289  : 	LogCB				= cb;

	mov	rax, QWORD PTR cb$[rsp]
	mov	QWORD PTR LogCB, rax

; 290  : }

	ret	0
?SetLogCB@@YAXP6AXPEBD@Z@Z ENDP				; SetLogCB
_TEXT	ENDS
PUBLIC	?LogXrayOffset@@YAXPEBDPEAX1@Z			; LogXrayOffset
; Function compile flags: /Odspy
_TEXT	SEGMENT
key$ = 8
base$ = 16
pval$ = 24
?LogXrayOffset@@YAXPEBDPEAX1@Z PROC			; LogXrayOffset

; 272  : {

	mov	QWORD PTR [rsp+24], r8
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx

; 273  : #ifdef LUAICP_COMPAT
; 274  : 	u32 ofs = (u32)pval - (u32)base;
; 275  : 	MsgV	  ("XRAY_OFFSET", "XRAY_OFFSET: %30s = 0x%x base = 0x%p, pval = 0x%p ", key, ofs, base, pval);
; 276  : 	static OFFSET_UPDATER cbUpdater = NULL;
; 277  : 	HMODULE hDLL = GetModuleHandle("luaicp.dll");
; 278  : 	if (!cbUpdater && hDLL)
; 279  : 		cbUpdater = (OFFSET_UPDATER) GetProcAddress(hDLL, "UpdateXrayOffset");
; 280  : 
; 281  : 	if (cbUpdater)
; 282  : 		cbUpdater(key, ofs);
; 283  : #endif
; 284  : }

	ret	0
?LogXrayOffset@@YAXPEBDPEAX1@Z ENDP			; LogXrayOffset
_TEXT	ENDS
PUBLIC	?FlushLog@@YAXPEBD@Z				; FlushLog
pdata	SEGMENT
$pdata$?FlushLog@@YAXPEBD@Z DD imagerel $LN5
	DD	imagerel $LN5+38
	DD	imagerel $unwind$?FlushLog@@YAXPEBD@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?FlushLog@@YAXPEBD@Z DD 010401H
	DD	04204H
; Function compile flags: /Ogtpy
xdata	ENDS
_TEXT	SEGMENT
?FlushLog@@YAXPEBD@Z PROC				; FlushLog

; 32   : {

$LN5:
	sub	rsp, 40					; 00000028H

; 33   : 	if (LogWriter)

	mov	rcx, QWORD PTR ?LogWriter@@3PEAVIWriter@@EA ; LogWriter
	test	rcx, rcx
	je	SHORT $LN4@FlushLog

; 34   : 		LogWriter->flush();

	mov	rax, QWORD PTR [rcx]
	call	QWORD PTR [rax+40]
$LN4@FlushLog:

; 35   : 	cached_log = 0;

	mov	QWORD PTR ?cached_log@@3_KA, 0		; cached_log

; 36   : }

	add	rsp, 40					; 00000028H
	ret	0
?FlushLog@@YAXPEBD@Z ENDP				; FlushLog
;	COMDAT pdata
; File c:\program files (x86)\microsoft visual studio 10.0\vc\include\vector
pdata	SEGMENT
$pdata$??Y?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEAAAEAV01@_J@Z DD imagerel $LN5
	DD	imagerel $LN5+39
	DD	imagerel $unwind$??Y?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEAAAEAV01@_J@Z
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??Y?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEAAAEAV01@_J@Z DD 010e01H
	DD	0420eH
; Function compile flags: /Odspy
xdata	ENDS
;	COMDAT ??Y?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEAAAEAV01@_J@Z
_TEXT	SEGMENT
this$ = 48
_Off$ = 56
??Y?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEAAAEAV01@_J@Z PROC ; std::_Vector_iterator<std::_Vector_val<shared_str,xalloc<shared_str> > >::operator+=, COMDAT

; 357  : 		{	// increment by integer

$LN5:
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 40					; 00000028H

; 358  : 		*(_Mybase *)this += _Off;

	mov	rdx, QWORD PTR _Off$[rsp]
	mov	rcx, QWORD PTR this$[rsp]
	call	??Y?$_Vector_const_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEAAAEAV01@_J@Z ; std::_Vector_const_iterator<std::_Vector_val<shared_str,xalloc<shared_str> > >::operator+=

; 359  : 		return (*this);

	mov	rax, QWORD PTR this$[rsp]

; 360  : 		}

	add	rsp, 40					; 00000028H
	ret	0
??Y?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEAAAEAV01@_J@Z ENDP ; std::_Vector_iterator<std::_Vector_val<shared_str,xalloc<shared_str> > >::operator+=
_TEXT	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$??H?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEBA?AV01@_J@Z DD imagerel $LN7
	DD	imagerel $LN7+70
	DD	imagerel $unwind$??H?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEBA?AV01@_J@Z
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??H?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEBA?AV01@_J@Z DD 011301H
	DD	06213H
; Function compile flags: /Odspy
xdata	ENDS
;	COMDAT ??H?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEBA?AV01@_J@Z
_TEXT	SEGMENT
_Tmp$ = 32
this$ = 64
__$ReturnUdt$ = 72
_Off$ = 80
??H?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEBA?AV01@_J@Z PROC ; std::_Vector_iterator<std::_Vector_val<shared_str,xalloc<shared_str> > >::operator+, COMDAT

; 363  : 		{	// return this + integer

$LN7:
	mov	QWORD PTR [rsp+24], r8
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 56					; 00000038H

; 364  : 		_Myiter _Tmp = *this;

	mov	rax, QWORD PTR this$[rsp]
	mov	rax, QWORD PTR [rax]
	mov	QWORD PTR _Tmp$[rsp], rax

; 365  : 		return (_Tmp += _Off);

	mov	rdx, QWORD PTR _Off$[rsp]
	lea	rcx, QWORD PTR _Tmp$[rsp]
	call	??Y?$_Vector_const_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEAAAEAV01@_J@Z ; std::_Vector_const_iterator<std::_Vector_val<shared_str,xalloc<shared_str> > >::operator+=
	mov	rax, QWORD PTR _Tmp$[rsp]
	mov	rcx, QWORD PTR __$ReturnUdt$[rsp]
	mov	QWORD PTR [rcx], rax
	mov	rax, QWORD PTR __$ReturnUdt$[rsp]

; 366  : 		}

	add	rsp, 56					; 00000038H
	ret	0
??H?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEBA?AV01@_J@Z ENDP ; std::_Vector_iterator<std::_Vector_val<shared_str,xalloc<shared_str> > >::operator+
_TEXT	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$??D?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEBAAEAVshared_str@@XZ DD imagerel $LN8
	DD	imagerel $LN8+24
	DD	imagerel $unwind$??D?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEBAAEAVshared_str@@XZ
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??D?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEBAAEAVshared_str@@XZ DD 010901H
	DD	04209H
; Function compile flags: /Odspy
xdata	ENDS
;	COMDAT ??D?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEBAAEAVshared_str@@XZ
_TEXT	SEGMENT
this$ = 48
??D?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEBAAEAVshared_str@@XZ PROC ; std::_Vector_iterator<std::_Vector_val<shared_str,xalloc<shared_str> > >::operator*, COMDAT

; 321  : 		{	// return designated object

$LN8:
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 40					; 00000028H

; 322  : 		return ((reference)**(_Mybase *)this);

	mov	rcx, QWORD PTR this$[rsp]
	call	??D?$_Vector_const_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEBAAEBVshared_str@@XZ ; std::_Vector_const_iterator<std::_Vector_val<shared_str,xalloc<shared_str> > >::operator*

; 323  : 		}

	add	rsp, 40					; 00000028H
	ret	0
??D?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEBAAEAVshared_str@@XZ ENDP ; std::_Vector_iterator<std::_Vector_val<shared_str,xalloc<shared_str> > >::operator*
_TEXT	ENDS
PUBLIC	?FlushLog@@YAXXZ				; FlushLog
pdata	SEGMENT
$pdata$?FlushLog@@YAXXZ DD imagerel $LN7
	DD	imagerel $LN7+38
	DD	imagerel $unwind$?FlushLog@@YAXXZ
pdata	ENDS
xdata	SEGMENT
$unwind$?FlushLog@@YAXXZ DD 010401H
	DD	04204H
; Function compile flags: /Ogtpy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\log.cpp
xdata	ENDS
_TEXT	SEGMENT
?FlushLog@@YAXXZ PROC					; FlushLog

; 39   : {

$LN7:
	sub	rsp, 40					; 00000028H

; 40   : 	FlushLog		(logFName);

	mov	rcx, QWORD PTR ?LogWriter@@3PEAVIWriter@@EA ; LogWriter
	test	rcx, rcx
	je	SHORT $LN6@FlushLog@2
	mov	rax, QWORD PTR [rcx]
	call	QWORD PTR [rax+40]
$LN6@FlushLog@2:
	mov	QWORD PTR ?cached_log@@3_KA, 0		; cached_log

; 41   : }

	add	rsp, 40					; 00000028H
	ret	0
?FlushLog@@YAXXZ ENDP					; FlushLog
;	COMDAT pdata
; File c:\program files (x86)\microsoft visual studio 10.0\vc\include\vector
pdata	SEGMENT
$pdata$??A?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAAAEAVshared_str@@_K@Z DD imagerel $LN27
	DD	imagerel $LN27+93
	DD	imagerel $unwind$??A?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAAAEAVshared_str@@_K@Z
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??A?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAAAEAVshared_str@@_K@Z DD 010e01H
	DD	0820eH
; Function compile flags: /Odspy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\_stl_extensions.h
xdata	ENDS
;	COMDAT ??A?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAAAEAVshared_str@@_K@Z
_TEXT	SEGMENT
$T203684 = 32
$T203685 = 40
_Tmp$203696 = 48
$T203700 = 56
this$ = 80
_Pos$ = 88
??A?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAAAEAVshared_str@@_K@Z PROC ; xr_vector<shared_str,xalloc<shared_str> >::operator[], COMDAT

; 138  : 	reference operator[]		(size_type _Pos)					{ {VERIFY(_Pos<size());} return (*(begin() + _Pos)); }

$LN27:
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 72					; 00000048H
$LN3@operator@41:
	xor	eax, eax
	test	eax, eax
	jne	SHORT $LN3@operator@41
	lea	rdx, QWORD PTR $T203684[rsp]
	mov	rcx, QWORD PTR this$[rsp]
	call	?begin@?$vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@QEAA?AV?$_Vector_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@2@XZ ; std::vector<shared_str,xalloc<shared_str> >::begin
	mov	QWORD PTR $T203700[rsp], rax
	mov	rax, QWORD PTR $T203700[rsp]
	mov	rax, QWORD PTR [rax]
	mov	QWORD PTR _Tmp$203696[rsp], rax
	mov	rdx, QWORD PTR _Pos$[rsp]
	lea	rcx, QWORD PTR _Tmp$203696[rsp]
	call	??Y?$_Vector_const_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEAAAEAV01@_J@Z ; std::_Vector_const_iterator<std::_Vector_val<shared_str,xalloc<shared_str> > >::operator+=
	mov	rax, QWORD PTR _Tmp$203696[rsp]
	mov	QWORD PTR $T203685[rsp], rax
	lea	rcx, QWORD PTR $T203685[rsp]
	call	??D?$_Vector_const_iterator@V?$_Vector_val@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@@std@@QEBAAEBVshared_str@@XZ ; std::_Vector_const_iterator<std::_Vector_val<shared_str,xalloc<shared_str> > >::operator*
	add	rsp, 72					; 00000048H
	ret	0
??A?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAAAEAVshared_str@@_K@Z ENDP ; xr_vector<shared_str,xalloc<shared_str> >::operator[]
;	COMDAT pdata
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\xrstring.h
pdata	SEGMENT
$pdata$??$_Cons_val@V?$xalloc@Vshared_str@@@@Vshared_str@@AEBV2@@std@@YAXAEAV?$xalloc@Vshared_str@@@@PEAVshared_str@@AEBV2@@Z DD imagerel $LN24
	DD	imagerel $LN24+47
	DD	imagerel $unwind$??$_Cons_val@V?$xalloc@Vshared_str@@@@Vshared_str@@AEBV2@@std@@YAXAEAV?$xalloc@Vshared_str@@@@PEAVshared_str@@AEBV2@@Z
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??$_Cons_val@V?$xalloc@Vshared_str@@@@Vshared_str@@AEBV2@@std@@YAXAEAV?$xalloc@Vshared_str@@@@PEAVshared_str@@AEBV2@@Z DD 011301H
	DD	08213H
; Function compile flags: /Odspy
; File c:\program files (x86)\microsoft visual studio 10.0\vc\include\xmemory
xdata	ENDS
;	COMDAT ??$_Cons_val@V?$xalloc@Vshared_str@@@@Vshared_str@@AEBV2@@std@@YAXAEAV?$xalloc@Vshared_str@@@@PEAVshared_str@@AEBV2@@Z
_TEXT	SEGMENT
_Alval$ = 80
_Pdest$ = 88
_Src$ = 96
??$_Cons_val@V?$xalloc@Vshared_str@@@@Vshared_str@@AEBV2@@std@@YAXAEAV?$xalloc@Vshared_str@@@@PEAVshared_str@@AEBV2@@Z PROC ; std::_Cons_val<xalloc<shared_str>,shared_str,shared_str const & __ptr64>, COMDAT

; 279  : 	{	// construct using allocator

$LN24:
	mov	QWORD PTR [rsp+24], r8
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 72					; 00000048H

; 280  : 	_Alval.construct(_Pdest, _STD forward<_Ty2>(_Src));

	mov	rcx, QWORD PTR _Src$[rsp]
	call	??$forward@AEBVshared_str@@@std@@YAAEBVshared_str@@AEBV1@@Z ; std::forward<shared_str const & __ptr64>
	mov	rdx, rax
	mov	rcx, QWORD PTR _Pdest$[rsp]
	call	?construct@?$xalloc@Vshared_str@@@@QEAAXPEAVshared_str@@AEBV2@@Z ; xalloc<shared_str>::construct

; 281  : 	}

	add	rsp, 72					; 00000048H
	ret	0
??$_Cons_val@V?$xalloc@Vshared_str@@@@Vshared_str@@AEBV2@@std@@YAXAEAV?$xalloc@Vshared_str@@@@PEAVshared_str@@AEBV2@@Z ENDP ; std::_Cons_val<xalloc<shared_str>,shared_str,shared_str const & __ptr64>
_TEXT	ENDS
;	COMDAT pdata
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\xrstring.h
pdata	SEGMENT
$pdata$??$_Cons_val@V?$xalloc@Vshared_str@@@@Vshared_str@@AEAV2@@std@@YAXAEAV?$xalloc@Vshared_str@@@@PEAVshared_str@@AEAV2@@Z DD imagerel $LN24
	DD	imagerel $LN24+39
	DD	imagerel $unwind$??$_Cons_val@V?$xalloc@Vshared_str@@@@Vshared_str@@AEAV2@@std@@YAXAEAV?$xalloc@Vshared_str@@@@PEAVshared_str@@AEAV2@@Z
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??$_Cons_val@V?$xalloc@Vshared_str@@@@Vshared_str@@AEAV2@@std@@YAXAEAV?$xalloc@Vshared_str@@@@PEAVshared_str@@AEAV2@@Z DD 011301H
	DD	08213H
; Function compile flags: /Odspy
; File c:\program files (x86)\microsoft visual studio 10.0\vc\include\xmemory
xdata	ENDS
;	COMDAT ??$_Cons_val@V?$xalloc@Vshared_str@@@@Vshared_str@@AEAV2@@std@@YAXAEAV?$xalloc@Vshared_str@@@@PEAVshared_str@@AEAV2@@Z
_TEXT	SEGMENT
_Alval$ = 80
_Pdest$ = 88
_Src$ = 96
??$_Cons_val@V?$xalloc@Vshared_str@@@@Vshared_str@@AEAV2@@std@@YAXAEAV?$xalloc@Vshared_str@@@@PEAVshared_str@@AEAV2@@Z PROC ; std::_Cons_val<xalloc<shared_str>,shared_str,shared_str & __ptr64>, COMDAT

; 279  : 	{	// construct using allocator

$LN24:
	mov	QWORD PTR [rsp+24], r8
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 72					; 00000048H

; 280  : 	_Alval.construct(_Pdest, _STD forward<_Ty2>(_Src));

	mov	rdx, QWORD PTR _Src$[rsp]
	mov	rcx, QWORD PTR _Pdest$[rsp]
	call	?construct@?$xalloc@Vshared_str@@@@QEAAXPEAVshared_str@@AEBV2@@Z ; xalloc<shared_str>::construct

; 281  : 	}

	add	rsp, 72					; 00000048H
	ret	0
??$_Cons_val@V?$xalloc@Vshared_str@@@@Vshared_str@@AEAV2@@std@@YAXAEAV?$xalloc@Vshared_str@@@@PEAVshared_str@@AEAV2@@Z ENDP ; std::_Cons_val<xalloc<shared_str>,shared_str,shared_str & __ptr64>
_TEXT	ENDS
PUBLIC	?InitVerbosity@@YAXPEBD@Z			; InitVerbosity
EXTRN	__chkstk:PROC
pdata	SEGMENT
$pdata$?InitVerbosity@@YAXPEBD@Z DD imagerel $LN8
	DD	imagerel $LN8+187
	DD	imagerel $unwind$?InitVerbosity@@YAXPEBD@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?InitVerbosity@@YAXPEBD@Z DD 021201H
	DD	02070112H
; Function compile flags: /Odspy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\log.cpp
xdata	ENDS
_TEXT	SEGMENT
tmp$ = 32
t$ = 4128
tv78 = 4136
filters$ = 4160
?InitVerbosity@@YAXPEBD@Z PROC				; InitVerbosity

; 46   : {

$LN8:
	mov	QWORD PTR [rsp+8], rcx
	mov	eax, 4152				; 00001038H
	call	__chkstk
	sub	rsp, rax

; 47   : 	string4096 tmp;
; 48   : 	strcpy_s(tmp, 4095, filters);

	mov	r8, QWORD PTR filters$[rsp]
	mov	edx, 4095				; 00000fffH
	lea	rcx, QWORD PTR tmp$[rsp]
	call	QWORD PTR __imp_strcpy_s

; 49   : 	tmp[sizeof(tmp) - 1] = 0;

	mov	BYTE PTR tmp$[rsp+4095], 0

; 50   : 	char *t = strtok(tmp, ",");

	lea	rdx, OFFSET FLAT:??_C@_01IHBHIGKO@?0?$AA@
	lea	rcx, QWORD PTR tmp$[rsp]
	call	QWORD PTR __imp_strtok
	mov	QWORD PTR t$[rsp], rax
$LN3@InitVerbos:

; 51   : 	while (NULL != t)

	cmp	QWORD PTR t$[rsp], 0
	je	SHORT $LN2@InitVerbos

; 52   : 	{
; 53   : 		if (xr_strlen(t) > 0)

	mov	rcx, QWORD PTR t$[rsp]
	call	?xr_strlen@@YAIPEBD@Z			; xr_strlen
	test	eax, eax
	jbe	SHORT $LN1@InitVerbos

; 54   : 			verbosity_filters.dock(t)->dwReference++;

	mov	rdx, QWORD PTR t$[rsp]
	lea	rcx, OFFSET FLAT:?verbosity_filters@@3Vstr_container@@A ; verbosity_filters
	call	?dock@str_container@@QEAAPEAUstr_value@@PEBD@Z ; str_container::dock
	mov	QWORD PTR tv78[rsp], rax
	mov	rax, QWORD PTR tv78[rsp]
	mov	eax, DWORD PTR [rax]
	inc	eax
	mov	rcx, QWORD PTR tv78[rsp]
	mov	DWORD PTR [rcx], eax
$LN1@InitVerbos:

; 55   : 		t = strtok(NULL, ",");

	lea	rdx, OFFSET FLAT:??_C@_01IHBHIGKO@?0?$AA@
	xor	ecx, ecx
	call	QWORD PTR __imp_strtok
	mov	QWORD PTR t$[rsp], rax

; 56   : 	}

	jmp	SHORT $LN3@InitVerbos
$LN2@InitVerbos:

; 57   : 
; 58   : }

	add	rsp, 4152				; 00001038H
	ret	0
?InitVerbosity@@YAXPEBD@Z ENDP				; InitVerbosity
;	COMDAT pdata
pdata	SEGMENT
$pdata$??_G?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAAPEAXI@Z DD imagerel $LN15
	DD	imagerel $LN15+54
	DD	imagerel $unwind$??_G?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAAPEAXI@Z
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??_G?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAAPEAXI@Z DD 010d01H
	DD	0420dH
; Function compile flags: /Odspy
xdata	ENDS
;	COMDAT ??_G?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAAPEAXI@Z
_TEXT	SEGMENT
this$ = 48
__flags$ = 56
??_G?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAAPEAXI@Z PROC ; xr_vector<shared_str,xalloc<shared_str> >::`scalar deleting destructor', COMDAT
$LN15:
	mov	DWORD PTR [rsp+16], edx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 40					; 00000028H
	mov	rcx, QWORD PTR this$[rsp]
	call	??1?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAA@XZ
	mov	eax, DWORD PTR __flags$[rsp]
	and	eax, 1
	test	eax, eax
	je	SHORT $LN1@scalar@28
	mov	rcx, QWORD PTR this$[rsp]
	call	??3@YAXPEAX@Z				; operator delete
$LN1@scalar@28:
	mov	rax, QWORD PTR this$[rsp]
	add	rsp, 40					; 00000028H
	ret	0
??_G?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAAPEAXI@Z ENDP ; xr_vector<shared_str,xalloc<shared_str> >::`scalar deleting destructor'
_TEXT	ENDS
;	COMDAT pdata
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\xrmemory.h
pdata	SEGMENT
$pdata$??R?$xr_special_free@$0A@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@QEAAXAEAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@Z DD imagerel $LN17
	DD	imagerel $LN17+81
	DD	imagerel $unwind$??R?$xr_special_free@$0A@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@QEAAXAEAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@Z
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??R?$xr_special_free@$0A@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@QEAAXAEAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@Z DD 010e01H
	DD	0620eH
; Function compile flags: /Odspy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\xrmemory_subst_msvc.h
xdata	ENDS
;	COMDAT ??R?$xr_special_free@$0A@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@QEAAXAEAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@Z
_TEXT	SEGMENT
$T266899 = 32
this$ = 64
ptr$ = 72
??R?$xr_special_free@$0A@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@QEAAXAEAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@Z PROC ; xr_special_free<0,xr_vector<shared_str,xalloc<shared_str> > >::operator(), COMDAT

; 142  : 	{

$LN17:
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 56					; 00000038H

; 143  : 		ptr->~T			();

	mov	rax, QWORD PTR ptr$[rsp]
	mov	rax, QWORD PTR [rax]
	mov	QWORD PTR $T266899[rsp], rax
	mov	rcx, QWORD PTR $T266899[rsp]
	call	??1?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAA@XZ
	xor	eax, eax
	and	eax, 1
	test	eax, eax
	je	SHORT $LN3@operator@57
	mov	rcx, QWORD PTR $T266899[rsp]
	call	??3@YAXPEAX@Z				; operator delete
$LN3@operator@57:

; 144  : 		Memory.mem_free	(ptr);

	mov	rax, QWORD PTR ptr$[rsp]
	mov	rdx, QWORD PTR [rax]
	lea	rcx, OFFSET FLAT:?Memory@@3VxrMemory@@A	; Memory
	call	?mem_free@xrMemory@@QEAAXPEAX@Z		; xrMemory::mem_free

; 145  : 	}

	add	rsp, 56					; 00000038H
	ret	0
??R?$xr_special_free@$0A@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@QEAAXAEAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@Z ENDP ; xr_special_free<0,xr_vector<shared_str,xalloc<shared_str> > >::operator()
_TEXT	ENDS
;	COMDAT pdata
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\xrmemory.h
pdata	SEGMENT
$pdata$??$xr_delete@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@YAXAEAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@Z DD imagerel $LN20
	DD	imagerel $LN20+71
	DD	imagerel $unwind$??$xr_delete@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@YAXAEAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@Z
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??$xr_delete@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@YAXAEAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@Z DD 020a01H
	DD	07006520aH
; Function compile flags: /Odspy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\xrmemory_subst_msvc.h
xdata	ENDS
;	COMDAT ??$xr_delete@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@YAXAEAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@Z
_TEXT	SEGMENT
$T266907 = 32
ptr$ = 64
??$xr_delete@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@YAXAEAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@Z PROC ; xr_delete<xr_vector<shared_str,xalloc<shared_str> > >, COMDAT

; 150  : {

$LN20:
	mov	QWORD PTR [rsp+8], rcx
	push	rdi
	sub	rsp, 48					; 00000030H

; 151  : 	if (ptr) 

	mov	rax, QWORD PTR ptr$[rsp]
	cmp	QWORD PTR [rax], 0
	je	SHORT $LN1@xr_delete@10

; 152  : 	{
; 153  : 		xr_special_free<xrcore::is_polymorphic<T>::result,T>()(ptr);

	lea	rax, QWORD PTR $T266907[rsp]
	mov	rdi, rax
	xor	eax, eax
	mov	ecx, 1
	rep stosb
	mov	rdx, QWORD PTR ptr$[rsp]
	lea	rcx, QWORD PTR $T266907[rsp]
	call	??R?$xr_special_free@$0A@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@QEAAXAEAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@Z ; xr_special_free<0,xr_vector<shared_str,xalloc<shared_str> > >::operator()

; 154  : 		ptr = NULL;

	mov	rax, QWORD PTR ptr$[rsp]
	mov	QWORD PTR [rax], 0
$LN1@xr_delete@10:

; 155  : 	}
; 156  : }

	add	rsp, 48					; 00000030H
	pop	rdi
	ret	0
??$xr_delete@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@YAXAEAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@Z ENDP ; xr_delete<xr_vector<shared_str,xalloc<shared_str> > >
_TEXT	ENDS
;	COMDAT pdata
; File c:\program files (x86)\microsoft visual studio 10.0\vc\include\vector
pdata	SEGMENT
$pdata$?push_back@?$vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@QEAAXAEBVshared_str@@@Z DD imagerel $LN81
	DD	imagerel $LN81+333
	DD	imagerel $unwind$?push_back@?$vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@QEAAXAEBVshared_str@@@Z
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?push_back@?$vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@QEAAXAEBVshared_str@@@Z DD 010e01H
	DD	0e20eH
; Function compile flags: /Odspy
xdata	ENDS
;	COMDAT ?push_back@?$vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@QEAAXAEBVshared_str@@@Z
_TEXT	SEGMENT
_Idx$97326 = 32
this$ = 128
_Val$ = 136
?push_back@?$vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@QEAAXAEBVshared_str@@@Z PROC ; std::vector<shared_str,xalloc<shared_str> >::push_back, COMDAT

; 976  : 		{	// insert element at end

$LN81:
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 120				; 00000078H

; 977  : 		if (_Inside(_STD addressof(_Val)))

	mov	rdx, QWORD PTR _Val$[rsp]
	mov	rcx, QWORD PTR this$[rsp]
	call	?_Inside@?$vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@IEBA_NPEBVshared_str@@@Z ; std::vector<shared_str,xalloc<shared_str> >::_Inside
	movzx	eax, al
	test	eax, eax
	je	$LN4@push_back@2

; 978  : 			{	// push back an element
; 979  : 			size_type _Idx = _STD addressof(_Val) - this->_Myfirst;

	mov	rax, QWORD PTR this$[rsp]
	mov	rax, QWORD PTR [rax]
	mov	rcx, QWORD PTR _Val$[rsp]
	sub	rcx, rax
	mov	rax, rcx
	sar	rax, 3
	mov	QWORD PTR _Idx$97326[rsp], rax

; 980  : 			if (this->_Mylast == this->_Myend)

	mov	rax, QWORD PTR this$[rsp]
	mov	rcx, QWORD PTR this$[rsp]
	mov	rcx, QWORD PTR [rcx+16]
	cmp	QWORD PTR [rax+8], rcx
	jne	SHORT $LN3@push_back@2

; 981  : 				_Reserve(1);

	mov	edx, 1
	mov	rcx, QWORD PTR this$[rsp]
	call	?_Reserve@?$vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@IEAAX_K@Z ; std::vector<shared_str,xalloc<shared_str> >::_Reserve
$LN3@push_back@2:

; 982  : 			_Orphan_range(this->_Mylast, this->_Mylast);

	call	?_Orphan_range@?$vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@IEBAXPEAVshared_str@@0@Z ; std::vector<shared_str,xalloc<shared_str> >::_Orphan_range

; 983  : 			_Cons_val(this->_Alval,
; 984  : 				this->_Mylast,
; 985  : 				this->_Myfirst[_Idx]);

	mov	rax, QWORD PTR this$[rsp]
	mov	rax, QWORD PTR [rax]
	mov	rcx, QWORD PTR _Idx$97326[rsp]
	lea	rax, QWORD PTR [rax+rcx*8]
	mov	rcx, QWORD PTR this$[rsp]
	add	rcx, 24
	mov	r8, rax
	mov	rax, QWORD PTR this$[rsp]
	mov	rdx, QWORD PTR [rax+8]
	call	??$_Cons_val@V?$xalloc@Vshared_str@@@@Vshared_str@@AEAV2@@std@@YAXAEAV?$xalloc@Vshared_str@@@@PEAVshared_str@@AEAV2@@Z ; std::_Cons_val<xalloc<shared_str>,shared_str,shared_str & __ptr64>

; 986  : 			++this->_Mylast;

	mov	rax, QWORD PTR this$[rsp]
	mov	rax, QWORD PTR [rax+8]
	add	rax, 8
	mov	rcx, QWORD PTR this$[rsp]
	mov	QWORD PTR [rcx+8], rax

; 987  : 			}
; 988  : 		else

	jmp	SHORT $LN2@push_back@2
$LN4@push_back@2:

; 989  : 			{	// push back a non-element
; 990  : 			if (this->_Mylast == this->_Myend)

	mov	rax, QWORD PTR this$[rsp]
	mov	rcx, QWORD PTR this$[rsp]
	mov	rcx, QWORD PTR [rcx+16]
	cmp	QWORD PTR [rax+8], rcx
	jne	SHORT $LN1@push_back@2

; 991  : 				_Reserve(1);

	mov	edx, 1
	mov	rcx, QWORD PTR this$[rsp]
	call	?_Reserve@?$vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@IEAAX_K@Z ; std::vector<shared_str,xalloc<shared_str> >::_Reserve
$LN1@push_back@2:

; 992  : 			_Orphan_range(this->_Mylast, this->_Mylast);

	call	?_Orphan_range@?$vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@IEBAXPEAVshared_str@@0@Z ; std::vector<shared_str,xalloc<shared_str> >::_Orphan_range

; 993  : 			_Cons_val(this->_Alval,
; 994  : 				this->_Mylast,
; 995  : 				_Val);

	mov	rax, QWORD PTR this$[rsp]
	add	rax, 24
	mov	r8, QWORD PTR _Val$[rsp]
	mov	rcx, QWORD PTR this$[rsp]
	mov	rdx, QWORD PTR [rcx+8]
	mov	rcx, rax
	call	??$_Cons_val@V?$xalloc@Vshared_str@@@@Vshared_str@@AEBV2@@std@@YAXAEAV?$xalloc@Vshared_str@@@@PEAVshared_str@@AEBV2@@Z ; std::_Cons_val<xalloc<shared_str>,shared_str,shared_str const & __ptr64>

; 996  : 			++this->_Mylast;

	mov	rax, QWORD PTR this$[rsp]
	mov	rax, QWORD PTR [rax+8]
	add	rax, 8
	mov	rcx, QWORD PTR this$[rsp]
	mov	QWORD PTR [rcx+8], rax
$LN2@push_back@2:

; 997  : 			}
; 998  : 		}

	add	rsp, 120				; 00000078H
	ret	0
?push_back@?$vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@QEAAXAEBVshared_str@@@Z ENDP ; std::vector<shared_str,xalloc<shared_str> >::push_back
PUBLIC	?AddOne@@YAXPEBD@Z				; AddOne
pdata	SEGMENT
$pdata$?AddOne@@YAXPEBD@Z DD imagerel $LN31
	DD	imagerel $LN31+503
	DD	imagerel $unwind$?AddOne@@YAXPEBD@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?AddOne@@YAXPEBD@Z DD 020c01H
	DD	01b010cH
; Function compile flags: /Odspy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\log.cpp
xdata	ENDS
_TEXT	SEGMENT
temp$96976 = 80
lt$96985 = 88
buf$96984 = 112
tv83 = 184
tv92 = 188
tv128 = 192
split$ = 224
?AddOne@@YAXPEBD@Z PROC					; AddOne

; 64   : {

$LN31:
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 216				; 000000d8H

; 65   : 	if(!LogFile)		

	cmp	QWORD PTR ?LogFile@@3PEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@EA, 0 ; LogFile
	jne	SHORT $LN9@AddOne

; 66   : 						return;

	jmp	$LN10@AddOne
$LN9@AddOne:

; 67   : 
; 68   : 	logCS.Enter			();

	lea	rcx, OFFSET FLAT:logCS
	call	?Enter@xrCriticalSection@@QEAAXXZ	; xrCriticalSection::Enter

; 69   : 
; 70   : #ifdef DEBUG
; 71   : 	OutputDebugString	(split);
; 72   : 	OutputDebugString	("\n");
; 73   : #endif
; 74   : 
; 75   : 	//exec CallBack
; 76   : 	if (LogExecCB&&LogCB)LogCB(split);

	cmp	DWORD PTR ?LogExecCB@@3HA, 0		; LogExecCB
	je	SHORT $LN8@AddOne
	cmp	QWORD PTR LogCB, 0
	je	SHORT $LN8@AddOne
	mov	rcx, QWORD PTR split$[rsp]
	call	QWORD PTR LogCB
$LN8@AddOne:

; 77   : 
; 78   : //	DUMP_PHASE;
; 79   : 	{
; 80   : 		if (shared_str_initialized)

	movzx	eax, BYTE PTR ?shared_str_initialized@@3_NA ; shared_str_initialized
	test	eax, eax
	je	SHORT $LN7@AddOne

; 81   : 		{
; 82   : 			shared_str			temp = shared_str(split);

	mov	rdx, QWORD PTR split$[rsp]
	lea	rcx, QWORD PTR temp$96976[rsp]
	call	??0shared_str@@QEAA@PEBD@Z		; shared_str::shared_str

; 83   : 			LogFile->push_back(temp);

	lea	rdx, QWORD PTR temp$96976[rsp]
	mov	rcx, QWORD PTR ?LogFile@@3PEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@EA ; LogFile
	call	?push_back@?$vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@QEAAXAEBVshared_str@@@Z ; std::vector<shared_str,xalloc<shared_str> >::push_back

; 84   : 		}

	lea	rcx, QWORD PTR temp$96976[rsp]
	call	??1shared_str@@QEAA@XZ			; shared_str::~shared_str
$LN7@AddOne:

; 85   : 
; 86   : 		//+RvP, alpet
; 87   : 		if (LogWriter)

	cmp	QWORD PTR ?LogWriter@@3PEAVIWriter@@EA, 0 ; LogWriter
	je	$LN6@AddOne

; 88   : 		{				
; 89   : 			switch (*split)

	mov	rax, QWORD PTR split$[rsp]
	mov	al, BYTE PTR [rax]
	mov	BYTE PTR tv83[rsp], al
	cmp	BYTE PTR tv83[rsp], 33			; 00000021H
	je	SHORT $LN3@AddOne
	cmp	BYTE PTR tv83[rsp], 35			; 00000023H
	je	SHORT $LN3@AddOne
	cmp	BYTE PTR tv83[rsp], 37			; 00000025H
	je	SHORT $LN3@AddOne
	jmp	SHORT $LN4@AddOne
$LN3@AddOne:

; 90   : 			{
; 91   : 			case 0x21:
; 92   : 			case 0x23:
; 93   : 			case 0x25:
; 94   : 				split ++; // пропустить первый символ, т.к. это вероятно цветовой тег

	mov	rax, QWORD PTR split$[rsp]
	inc	rax
	mov	QWORD PTR split$[rsp], rax
$LN4@AddOne:

; 95   : 				break;
; 96   : 			}
; 97   : 
; 98   : 			char buf[64];
; 99   : #ifdef	LOG_TIME_PRECISE 
; 100  : 			SYSTEMTIME lt;
; 101  : 			GetLocalTime(&lt);

	lea	rcx, QWORD PTR lt$96985[rsp]
	call	QWORD PTR __imp_GetLocalTime

; 102  : 			
; 103  : 			sprintf_s(buf, 64, "[%02d.%02d.%02d %02d:%02d:%02d.%03d] ", lt.wDay, lt.wMonth, lt.wYear % 100, lt.wHour, lt.wMinute, lt.wSecond, lt.wMilliseconds);						

	movzx	eax, WORD PTR lt$96985[rsp+14]
	mov	DWORD PTR tv92[rsp], eax
	movzx	ecx, WORD PTR lt$96985[rsp+12]
	movzx	edx, WORD PTR lt$96985[rsp+10]
	mov	DWORD PTR tv128[rsp], edx
	movzx	r8d, WORD PTR lt$96985[rsp+8]
	movzx	r9d, WORD PTR lt$96985[rsp]
	mov	eax, r9d
	cdq
	mov	r9d, 100				; 00000064H
	idiv	r9d
	mov	eax, edx
	movzx	edx, WORD PTR lt$96985[rsp+2]
	movzx	r9d, WORD PTR lt$96985[rsp+6]
	mov	r10d, DWORD PTR tv92[rsp]
	mov	DWORD PTR [rsp+72], r10d
	mov	DWORD PTR [rsp+64], ecx
	mov	ecx, DWORD PTR tv128[rsp]
	mov	DWORD PTR [rsp+56], ecx
	mov	DWORD PTR [rsp+48], r8d
	mov	DWORD PTR [rsp+40], eax
	mov	DWORD PTR [rsp+32], edx
	lea	r8, OFFSET FLAT:??_C@_0CG@DOMCHCAE@?$FL?$CF02d?4?$CF02d?4?$CF02d?5?$CF02d?3?$CF02d?3?$CF02d?4?$CF@
	mov	edx, 64					; 00000040H
	lea	rcx, QWORD PTR buf$96984[rsp]
	call	QWORD PTR __imp_sprintf_s

; 104  : 			LogWriter->w_printf("%s%s\r\n", buf, split);

	mov	r9, QWORD PTR split$[rsp]
	lea	r8, QWORD PTR buf$96984[rsp]
	lea	rdx, OFFSET FLAT:??_C@_06PADMJNAK@?$CFs?$CFs?$AN?6?$AA@
	mov	rcx, QWORD PTR ?LogWriter@@3PEAVIWriter@@EA ; LogWriter
	call	?w_printf@IWriter@@QEAAXPEBDZZ		; IWriter::w_printf

; 105  : 			cached_log += xr_strlen(buf);

	lea	rcx, QWORD PTR buf$96984[rsp]
	call	?xr_strlen@@YAIPEBD@Z			; xr_strlen
	mov	eax, eax
	mov	rcx, QWORD PTR ?cached_log@@3_KA	; cached_log
	add	rcx, rax
	mov	rax, rcx
	mov	QWORD PTR ?cached_log@@3_KA, rax	; cached_log

; 106  : 			cached_log += xr_strlen(split) + 2;

	mov	rcx, QWORD PTR split$[rsp]
	call	?xr_strlen@@YAIPEBD@Z			; xr_strlen
	add	eax, 2
	mov	eax, eax
	mov	rcx, QWORD PTR ?cached_log@@3_KA	; cached_log
	add	rcx, rax
	mov	rax, rcx
	mov	QWORD PTR ?cached_log@@3_KA, rax	; cached_log

; 107  : #else
; 108  : 			time_t t = time(NULL);
; 109  : 			tm* ti = localtime(&t);
; 110  : 			
; 111  : 			strftime(buf, 64, "[%x %X]\t", ti);
; 112  : 
; 113  : 			LogWriter->wprintf("%s %s\r\n", buf, split);
; 114  : #endif
; 115  : 			if (force_flush_log || cached_log >= 32768)

	movzx	eax, BYTE PTR ?force_flush_log@@3_NA	; force_flush_log
	test	eax, eax
	jne	SHORT $LN1@AddOne
	cmp	QWORD PTR ?cached_log@@3_KA, 32768	; cached_log, 00008000H
	jb	SHORT $LN6@AddOne
$LN1@AddOne:

; 116  : 				FlushLog();

	call	?FlushLog@@YAXXZ			; FlushLog
$LN6@AddOne:

; 117  : 		}
; 118  : 		//-RvP
; 119  : 	}
; 120  : 
; 121  : 
; 122  : 	logCS.Leave				();

	lea	rcx, OFFSET FLAT:logCS
	call	?Leave@xrCriticalSection@@QEAAXXZ	; xrCriticalSection::Leave
$LN10@AddOne:

; 123  : }

	add	rsp, 216				; 000000d8H
	ret	0
?AddOne@@YAXPEBD@Z ENDP					; AddOne
PUBLIC	?Log@@YAXPEBD@Z					; Log
pdata	SEGMENT
$pdata$?Log@@YAXPEBD@Z DD imagerel $LN9
	DD	imagerel $LN9+221
	DD	imagerel $unwind$?Log@@YAXPEBD@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?Log@@YAXPEBD@Z DD 020c01H
	DD	089010cH
; Function compile flags: /Odspy
xdata	ENDS
_TEXT	SEGMENT
i$ = 32
split$ = 48
j$ = 1072
s$ = 1104
?Log@@YAXPEBD@Z PROC					; Log

; 126  : {

$LN9:
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 1096				; 00000448H

; 127  : 	int		i,j;
; 128  : 	char	split[1024];
; 129  : 
; 130  : 	for (i=0,j=0; s[i]!=0; i++) {

	mov	DWORD PTR i$[rsp], 0
	mov	DWORD PTR j$[rsp], 0
	jmp	SHORT $LN6@Log
$LN5@Log:
	mov	eax, DWORD PTR i$[rsp]
	inc	eax
	mov	DWORD PTR i$[rsp], eax
$LN6@Log:
	movsxd	rax, DWORD PTR i$[rsp]
	mov	rcx, QWORD PTR s$[rsp]
	movsx	eax, BYTE PTR [rcx+rax]
	test	eax, eax
	je	SHORT $LN4@Log

; 131  : 		if (s[i]=='\n') {

	movsxd	rax, DWORD PTR i$[rsp]
	mov	rcx, QWORD PTR s$[rsp]
	movsx	eax, BYTE PTR [rcx+rax]
	cmp	eax, 10
	jne	SHORT $LN3@Log

; 132  : 			split[j]=0;	// end of line

	movsxd	rax, DWORD PTR j$[rsp]
	mov	BYTE PTR split$[rsp+rax], 0

; 133  : 			if (split[0]==0) { split[0]=' '; split[1]=0; }

	movsx	eax, BYTE PTR split$[rsp]
	test	eax, eax
	jne	SHORT $LN2@Log
	mov	BYTE PTR split$[rsp], 32		; 00000020H
	mov	BYTE PTR split$[rsp+1], 0
$LN2@Log:

; 134  : 			AddOne(split);

	lea	rcx, QWORD PTR split$[rsp]
	call	?AddOne@@YAXPEBD@Z			; AddOne

; 135  : 			j=0;

	mov	DWORD PTR j$[rsp], 0

; 136  : 		} else {

	jmp	SHORT $LN1@Log
$LN3@Log:

; 137  : 			split[j++]=s[i];

	movsxd	rax, DWORD PTR i$[rsp]
	movsxd	rcx, DWORD PTR j$[rsp]
	mov	rdx, QWORD PTR s$[rsp]
	mov	al, BYTE PTR [rdx+rax]
	mov	BYTE PTR split$[rsp+rcx], al
	mov	eax, DWORD PTR j$[rsp]
	inc	eax
	mov	DWORD PTR j$[rsp], eax
$LN1@Log:

; 138  : 		}
; 139  : 	}

	jmp	$LN5@Log
$LN4@Log:

; 140  : 	split[j]=0;

	movsxd	rax, DWORD PTR j$[rsp]
	mov	BYTE PTR split$[rsp+rax], 0

; 141  : 	AddOne(split);

	lea	rcx, QWORD PTR split$[rsp]
	call	?AddOne@@YAXPEBD@Z			; AddOne

; 142  : }

	add	rsp, 1096				; 00000448H
	ret	0
?Log@@YAXPEBD@Z ENDP					; Log
PUBLIC	?Log@@YAXPEBDAEBU?$_matrix@M@@@Z		; Log
pdata	SEGMENT
$pdata$?Log@@YAXPEBDAEBU?$_matrix@M@@@Z DD imagerel $LN3
	DD	imagerel $LN3+635
	DD	imagerel $unwind$?Log@@YAXPEBDAEBU?$_matrix@M@@@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?Log@@YAXPEBDAEBU?$_matrix@M@@@Z DD 0166901H
	DD	04af869H
	DD	04be860H
	DD	04cd857H
	DD	04dc84eH
	DD	04eb845H
	DD	04fa83cH
	DD	0509833H
	DD	051882aH
	DD	0527821H
	DD	0536819H
	DD	0a90111H
; Function compile flags: /Odspy
xdata	ENDS
_TEXT	SEGMENT
buf$ = 160
msg$ = 1360
dop$ = 1368
?Log@@YAXPEBDAEBU?$_matrix@M@@@Z PROC			; Log

; 254  : void Log				(const char *msg, const Fmatrix &dop)	{

$LN3:
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 1352				; 00000548H
	movaps	XMMWORD PTR [rsp+1328], xmm6
	movaps	XMMWORD PTR [rsp+1312], xmm7
	movaps	XMMWORD PTR [rsp+1296], xmm8
	movaps	XMMWORD PTR [rsp+1280], xmm9
	movaps	XMMWORD PTR [rsp+1264], xmm10
	movaps	XMMWORD PTR [rsp+1248], xmm11
	movaps	XMMWORD PTR [rsp+1232], xmm12
	movaps	XMMWORD PTR [rsp+1216], xmm13
	movaps	XMMWORD PTR [rsp+1200], xmm14
	movaps	XMMWORD PTR [rsp+1184], xmm15

; 255  : 	char	buf	[1024];
; 256  : 
; 257  : 	sprintf_s	(buf,sizeof(buf),"%s:\n%f,%f,%f,%f\n%f,%f,%f,%f\n%f,%f,%f,%f\n%f,%f,%f,%f\n",msg,dop.i.x,dop.i.y,dop.i.z,dop._14_
; 258  : 																				,dop.j.x,dop.j.y,dop.j.z,dop._24_
; 259  : 																				,dop.k.x,dop.k.y,dop.k.z,dop._34_
; 260  : 																				,dop.c.x,dop.c.y,dop.c.z,dop._44_);

	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm0, DWORD PTR [rax+60]
	cvtps2pd xmm0, xmm0
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm1, DWORD PTR [rax+56]
	cvtps2pd xmm1, xmm1
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm2, DWORD PTR [rax+52]
	cvtps2pd xmm2, xmm2
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm3, DWORD PTR [rax+48]
	cvtps2pd xmm3, xmm3
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm4, DWORD PTR [rax+44]
	cvtps2pd xmm4, xmm4
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm5, DWORD PTR [rax+40]
	cvtps2pd xmm5, xmm5
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm6, DWORD PTR [rax+36]
	cvtps2pd xmm6, xmm6
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm7, DWORD PTR [rax+32]
	cvtps2pd xmm7, xmm7
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm8, DWORD PTR [rax+28]
	cvtps2pd xmm8, xmm8
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm9, DWORD PTR [rax+24]
	cvtps2pd xmm9, xmm9
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm10, DWORD PTR [rax+20]
	cvtps2pd xmm10, xmm10
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm11, DWORD PTR [rax+16]
	cvtps2pd xmm11, xmm11
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm12, DWORD PTR [rax+12]
	cvtps2pd xmm12, xmm12
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm13, DWORD PTR [rax+8]
	cvtps2pd xmm13, xmm13
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm14, DWORD PTR [rax+4]
	cvtps2pd xmm14, xmm14
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm15, DWORD PTR [rax]
	cvtps2pd xmm15, xmm15
	movsdx	QWORD PTR [rsp+152], xmm0
	movsdx	QWORD PTR [rsp+144], xmm1
	movsdx	QWORD PTR [rsp+136], xmm2
	movsdx	QWORD PTR [rsp+128], xmm3
	movsdx	QWORD PTR [rsp+120], xmm4
	movsdx	QWORD PTR [rsp+112], xmm5
	movsdx	QWORD PTR [rsp+104], xmm6
	movsdx	QWORD PTR [rsp+96], xmm7
	movsdx	QWORD PTR [rsp+88], xmm8
	movsdx	QWORD PTR [rsp+80], xmm9
	movsdx	QWORD PTR [rsp+72], xmm10
	movsdx	QWORD PTR [rsp+64], xmm11
	movsdx	QWORD PTR [rsp+56], xmm12
	movsdx	QWORD PTR [rsp+48], xmm13
	movsdx	QWORD PTR [rsp+40], xmm14
	movsdx	QWORD PTR [rsp+32], xmm15
	mov	r9, QWORD PTR msg$[rsp]
	lea	r8, OFFSET FLAT:??_C@_0DF@PAGJPMKE@?$CFs?3?6?$CFf?0?$CFf?0?$CFf?0?$CFf?6?$CFf?0?$CFf?0?$CFf?0?$CFf?6?$CFf?0?$CF@
	mov	edx, 1024				; 00000400H
	lea	rcx, QWORD PTR buf$[rsp]
	call	QWORD PTR __imp_sprintf_s

; 261  : 	Log		(buf);

	lea	rcx, QWORD PTR buf$[rsp]
	call	?Log@@YAXPEBD@Z				; Log

; 262  : }

	movaps	xmm6, XMMWORD PTR [rsp+1328]
	movaps	xmm7, XMMWORD PTR [rsp+1312]
	movaps	xmm8, XMMWORD PTR [rsp+1296]
	movaps	xmm9, XMMWORD PTR [rsp+1280]
	movaps	xmm10, XMMWORD PTR [rsp+1264]
	movaps	xmm11, XMMWORD PTR [rsp+1248]
	movaps	xmm12, XMMWORD PTR [rsp+1232]
	movaps	xmm13, XMMWORD PTR [rsp+1216]
	movaps	xmm14, XMMWORD PTR [rsp+1200]
	movaps	xmm15, XMMWORD PTR [rsp+1184]
	add	rsp, 1352				; 00000548H
	ret	0
?Log@@YAXPEBDAEBU?$_matrix@M@@@Z ENDP			; Log
_TEXT	ENDS
PUBLIC	?Log@@YAXPEBDAEBU?$_vector3@M@@@Z		; Log
pdata	SEGMENT
$pdata$?Log@@YAXPEBDAEBU?$_vector3@M@@@Z DD imagerel $LN3
	DD	imagerel $LN3+131
	DD	imagerel $unwind$?Log@@YAXPEBDAEBU?$_vector3@M@@@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?Log@@YAXPEBDAEBU?$_vector3@M@@@Z DD 021101H
	DD	0890111H
; Function compile flags: /Odspy
xdata	ENDS
_TEXT	SEGMENT
buf$ = 64
msg$ = 1104
dop$ = 1112
?Log@@YAXPEBDAEBU?$_vector3@M@@@Z PROC			; Log

; 247  : void Log				(const char *msg, const Fvector &dop) {

$LN3:
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 1096				; 00000448H

; 248  : 	char buf[1024];
; 249  : 
; 250  : 	sprintf_s	(buf,sizeof(buf),"%s (%f,%f,%f)",msg,dop.x,dop.y,dop.z);

	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm0, DWORD PTR [rax+8]
	cvtps2pd xmm0, xmm0
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm1, DWORD PTR [rax+4]
	cvtps2pd xmm1, xmm1
	mov	rax, QWORD PTR dop$[rsp]
	movd	xmm2, DWORD PTR [rax]
	cvtps2pd xmm2, xmm2
	movsdx	QWORD PTR [rsp+48], xmm0
	movsdx	QWORD PTR [rsp+40], xmm1
	movsdx	QWORD PTR [rsp+32], xmm2
	mov	r9, QWORD PTR msg$[rsp]
	lea	r8, OFFSET FLAT:??_C@_0O@LEOODNAC@?$CFs?5?$CI?$CFf?0?$CFf?0?$CFf?$CJ?$AA@
	mov	edx, 1024				; 00000400H
	lea	rcx, QWORD PTR buf$[rsp]
	call	QWORD PTR __imp_sprintf_s

; 251  : 	Log		(buf);

	lea	rcx, QWORD PTR buf$[rsp]
	call	?Log@@YAXPEBD@Z				; Log

; 252  : }

	add	rsp, 1096				; 00000448H
	ret	0
?Log@@YAXPEBDAEBU?$_vector3@M@@@Z ENDP			; Log
_TEXT	ENDS
PUBLIC	?Log@@YAXPEBDM@Z				; Log
pdata	SEGMENT
$pdata$?Log@@YAXPEBDM@Z DD imagerel $LN3
	DD	imagerel $LN3+85
	DD	imagerel $unwind$?Log@@YAXPEBDM@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?Log@@YAXPEBDM@Z DD 021201H
	DD	0870112H
; Function compile flags: /Odspy
xdata	ENDS
_TEXT	SEGMENT
buf$ = 48
msg$ = 1088
dop$ = 1096
?Log@@YAXPEBDM@Z PROC					; Log

; 240  : void Log				(const char *msg, float dop) {

$LN3:
	movss	DWORD PTR [rsp+16], xmm1
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 1080				; 00000438H

; 241  : 	char buf[1024];
; 242  : 
; 243  : 	sprintf_s	(buf, sizeof(buf),"%s %f",msg,dop);

	movd	xmm0, DWORD PTR dop$[rsp]
	cvtps2pd xmm0, xmm0
	movsdx	QWORD PTR [rsp+32], xmm0
	mov	r9, QWORD PTR msg$[rsp]
	lea	r8, OFFSET FLAT:??_C@_05KDNLHNC@?$CFs?5?$CFf?$AA@
	mov	edx, 1024				; 00000400H
	lea	rcx, QWORD PTR buf$[rsp]
	call	QWORD PTR __imp_sprintf_s

; 244  : 	Log		(buf);

	lea	rcx, QWORD PTR buf$[rsp]
	call	?Log@@YAXPEBD@Z				; Log

; 245  : }

	add	rsp, 1080				; 00000438H
	ret	0
?Log@@YAXPEBDM@Z ENDP					; Log
_TEXT	ENDS
PUBLIC	?Log@@YAXPEBDH@Z				; Log
pdata	SEGMENT
$pdata$?Log@@YAXPEBDH@Z DD imagerel $LN3
	DD	imagerel $LN3+76
	DD	imagerel $unwind$?Log@@YAXPEBDH@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?Log@@YAXPEBDH@Z DD 021001H
	DD	0870110H
; Function compile flags: /Odspy
xdata	ENDS
_TEXT	SEGMENT
buf$ = 48
msg$ = 1088
dop$ = 1096
?Log@@YAXPEBDH@Z PROC					; Log

; 233  : void Log				(const char *msg, int dop) {

$LN3:
	mov	DWORD PTR [rsp+16], edx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 1080				; 00000438H

; 234  : 	char buf[1024];
; 235  : 
; 236  : 	sprintf_s	(buf, sizeof(buf),"%s %d",msg,dop);

	mov	eax, DWORD PTR dop$[rsp]
	mov	DWORD PTR [rsp+32], eax
	mov	r9, QWORD PTR msg$[rsp]
	lea	r8, OFFSET FLAT:??_C@_05DIALNFFA@?$CFs?5?$CFd?$AA@
	mov	edx, 1024				; 00000400H
	lea	rcx, QWORD PTR buf$[rsp]
	call	QWORD PTR __imp_sprintf_s

; 237  : 	Log		(buf);

	lea	rcx, QWORD PTR buf$[rsp]
	call	?Log@@YAXPEBD@Z				; Log

; 238  : }

	add	rsp, 1080				; 00000438H
	ret	0
?Log@@YAXPEBDH@Z ENDP					; Log
_TEXT	ENDS
PUBLIC	?Log@@YAXPEBDI@Z				; Log
pdata	SEGMENT
$pdata$?Log@@YAXPEBDI@Z DD imagerel $LN3
	DD	imagerel $LN3+76
	DD	imagerel $unwind$?Log@@YAXPEBDI@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?Log@@YAXPEBDI@Z DD 021001H
	DD	0870110H
; Function compile flags: /Odspy
xdata	ENDS
_TEXT	SEGMENT
buf$ = 48
msg$ = 1088
dop$ = 1096
?Log@@YAXPEBDI@Z PROC					; Log

; 226  : void Log				(const char *msg, u32 dop) {

$LN3:
	mov	DWORD PTR [rsp+16], edx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 1080				; 00000438H

; 227  : 	char buf[1024];
; 228  : 
; 229  : 	sprintf_s	(buf,sizeof(buf),"%s %d",msg,dop);

	mov	eax, DWORD PTR dop$[rsp]
	mov	DWORD PTR [rsp+32], eax
	mov	r9, QWORD PTR msg$[rsp]
	lea	r8, OFFSET FLAT:??_C@_05DIALNFFA@?$CFs?5?$CFd?$AA@
	mov	edx, 1024				; 00000400H
	lea	rcx, QWORD PTR buf$[rsp]
	call	QWORD PTR __imp_sprintf_s

; 230  : 	Log			(buf);

	lea	rcx, QWORD PTR buf$[rsp]
	call	?Log@@YAXPEBD@Z				; Log

; 231  : }

	add	rsp, 1080				; 00000438H
	ret	0
?Log@@YAXPEBDI@Z ENDP					; Log
_TEXT	ENDS
PUBLIC	?Log@@YAXPEBD0@Z				; Log
pdata	SEGMENT
$pdata$?Log@@YAXPEBD0@Z DD imagerel $LN5
	DD	imagerel $LN5+123
	DD	imagerel $unwind$?Log@@YAXPEBD0@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?Log@@YAXPEBD0@Z DD 021101H
	DD	0870111H
; Function compile flags: /Odspy
xdata	ENDS
_TEXT	SEGMENT
buf$ = 48
msg$ = 1088
dop$ = 1096
?Log@@YAXPEBD0@Z PROC					; Log

; 217  : void Log				(const char *msg, const char *dop) {

$LN5:
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 1080				; 00000438H

; 218  : 	char buf[1024];
; 219  : 
; 220  : 	if (dop)	sprintf_s(buf,sizeof(buf),"%s %s",msg,dop);

	cmp	QWORD PTR dop$[rsp], 0
	je	SHORT $LN2@Log@2
	mov	rax, QWORD PTR dop$[rsp]
	mov	QWORD PTR [rsp+32], rax
	mov	r9, QWORD PTR msg$[rsp]
	lea	r8, OFFSET FLAT:??_C@_05DNIIFBMG@?$CFs?5?$CFs?$AA@
	mov	edx, 1024				; 00000400H
	lea	rcx, QWORD PTR buf$[rsp]
	call	QWORD PTR __imp_sprintf_s
	jmp	SHORT $LN1@Log@2
$LN2@Log@2:

; 221  : 	else		sprintf_s(buf,sizeof(buf),"%s",msg);

	mov	r9, QWORD PTR msg$[rsp]
	lea	r8, OFFSET FLAT:??_C@_02DKCKIIND@?$CFs?$AA@
	mov	edx, 1024				; 00000400H
	lea	rcx, QWORD PTR buf$[rsp]
	call	QWORD PTR __imp_sprintf_s
$LN1@Log@2:

; 222  : 
; 223  : 	Log		(buf);

	lea	rcx, QWORD PTR buf$[rsp]
	call	?Log@@YAXPEBD@Z				; Log

; 224  : }

	add	rsp, 1080				; 00000438H
	ret	0
?Log@@YAXPEBD0@Z ENDP					; Log
_TEXT	ENDS
PUBLIC	?LogVAList@@YAXPEBDAEAPEAD@Z			; LogVAList
pdata	SEGMENT
$pdata$?LogVAList@@YAXPEBDAEAPEAD@Z DD imagerel $LN4
	DD	imagerel $LN4+116
	DD	imagerel $unwind$?LogVAList@@YAXPEBDAEAPEAD@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?LogVAList@@YAXPEBDAEAPEAD@Z DD 021701H
	DD	02070117H
; Function compile flags: /Odspy
xdata	ENDS
_TEXT	SEGMENT
buf$ = 32
sz$ = 4128
format$ = 4160
mark$ = 4168
?LogVAList@@YAXPEBDAEAPEAD@Z PROC			; LogVAList

; 146  : {

$LN4:
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	mov	eax, 4152				; 00001038H
	call	__chkstk
	sub	rsp, rax

; 147  : 	string4096	buf; // alpet: размер буфера лучше сделать побольше, чтобы избежать вылетов invalid parameter handler при выводе стеков вызова
; 148  : 	int sz		= _vsnprintf(buf, sizeof(buf)-1, format, mark); buf[sizeof(buf)-1]=0;

	mov	rax, QWORD PTR mark$[rsp]
	mov	r9, QWORD PTR [rax]
	mov	r8, QWORD PTR format$[rsp]
	mov	edx, 4095				; 00000fffH
	lea	rcx, QWORD PTR buf$[rsp]
	call	QWORD PTR __imp__vsnprintf
	mov	DWORD PTR sz$[rsp], eax
	mov	BYTE PTR buf$[rsp+4095], 0

; 149  :     va_end		(mark);

	mov	rax, QWORD PTR mark$[rsp]
	mov	QWORD PTR [rax], 0

; 150  : 	if (sz)		Log(buf);

	cmp	DWORD PTR sz$[rsp], 0
	je	SHORT $LN1@LogVAList
	lea	rcx, QWORD PTR buf$[rsp]
	call	?Log@@YAXPEBD@Z				; Log
$LN1@LogVAList:

; 151  : }

	add	rsp, 4152				; 00001038H
	ret	0
?LogVAList@@YAXPEBDAEAPEAD@Z ENDP			; LogVAList
PUBLIC	?MsgV@@YAXPEBD0ZZ				; MsgV
pdata	SEGMENT
$pdata$?MsgV@@YAXPEBD0ZZ DD imagerel $LN12
	DD	imagerel $LN12+257
	DD	imagerel $unwind$?MsgV@@YAXPEBD0ZZ
pdata	ENDS
xdata	SEGMENT
$unwind$?MsgV@@YAXPEBD0ZZ DD 011801H
	DD	08218H
; Function compile flags: /Odspy
xdata	ENDS
_TEXT	SEGMENT
f$ = 32
b_show$ = 40
msg_level$97047 = 44
mark$97051 = 48
tv67 = 56
tv84 = 60
verbosity$ = 80
format$ = 88
?MsgV@@YAXPEBD0ZZ PROC					; MsgV

; 195  : {

$LN12:
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	mov	QWORD PTR [rsp+24], r8
	mov	QWORD PTR [rsp+32], r9
	sub	rsp, 72					; 00000048H

; 196  : 	if (!verbosity) return;	

	cmp	QWORD PTR verbosity$[rsp], 0
	jne	SHORT $LN5@MsgV
	jmp	$LN6@MsgV
$LN5@MsgV:

; 197  : 	bool b_show = (verbosity[0] != '!');

	mov	rax, QWORD PTR verbosity$[rsp]
	movsx	eax, BYTE PTR [rax]
	cmp	eax, 33					; 00000021H
	je	SHORT $LN8@MsgV
	mov	DWORD PTR tv67[rsp], 1
	jmp	SHORT $LN9@MsgV
$LN8@MsgV:
	mov	DWORD PTR tv67[rsp], 0
$LN9@MsgV:
	mov	al, BYTE PTR tv67[rsp]
	mov	BYTE PTR b_show$[rsp], al

; 198  : 	if (!b_show)

	movzx	eax, BYTE PTR b_show$[rsp]
	test	eax, eax
	jne	SHORT $LN4@MsgV

; 199  : 		verbosity++;

	mov	rax, QWORD PTR verbosity$[rsp]
	inc	rax
	mov	QWORD PTR verbosity$[rsp], rax
$LN4@MsgV:

; 200  : 
; 201  : 	if (verbosity[0] >= '0' && verbosity[0] <= '9')

	mov	rax, QWORD PTR verbosity$[rsp]
	movsx	eax, BYTE PTR [rax]
	cmp	eax, 48					; 00000030H
	jl	SHORT $LN3@MsgV
	mov	rax, QWORD PTR verbosity$[rsp]
	movsx	eax, BYTE PTR [rax]
	cmp	eax, 57					; 00000039H
	jg	SHORT $LN3@MsgV

; 202  : 	{
; 203  : 		u32 msg_level = verbosity[0] - '0';

	mov	rax, QWORD PTR verbosity$[rsp]
	movsx	eax, BYTE PTR [rax]
	sub	eax, 48					; 00000030H
	mov	DWORD PTR msg_level$97047[rsp], eax

; 204  : 		if (msg_level > verbosity_level) return;

	mov	eax, DWORD PTR ?verbosity_level@@3IA	; verbosity_level
	cmp	DWORD PTR msg_level$97047[rsp], eax
	jbe	SHORT $LN2@MsgV
	jmp	SHORT $LN6@MsgV
$LN2@MsgV:

; 205  : 		verbosity++;

	mov	rax, QWORD PTR verbosity$[rsp]
	inc	rax
	mov	QWORD PTR verbosity$[rsp], rax
$LN3@MsgV:

; 206  : 	}
; 207  : 	str_value *f = verbosity_filters.dock(verbosity);

	mov	rdx, QWORD PTR verbosity$[rsp]
	lea	rcx, OFFSET FLAT:?verbosity_filters@@3Vstr_container@@A ; verbosity_filters
	call	?dock@str_container@@QEAAPEAUstr_value@@PEBD@Z ; str_container::dock
	mov	QWORD PTR f$[rsp], rax

; 208  : 	if ( (f->dwReference > 0) == b_show )

	mov	rax, QWORD PTR f$[rsp]
	cmp	DWORD PTR [rax], 0
	jbe	SHORT $LN10@MsgV
	mov	DWORD PTR tv84[rsp], 1
	jmp	SHORT $LN11@MsgV
$LN10@MsgV:
	mov	DWORD PTR tv84[rsp], 0
$LN11@MsgV:
	movzx	eax, BYTE PTR b_show$[rsp]
	cmp	DWORD PTR tv84[rsp], eax
	jne	SHORT $LN1@MsgV

; 209  : 	{		
; 210  : 		va_list mark;
; 211  : 		va_start(mark, format);		

	lea	rax, QWORD PTR format$[rsp+8]
	mov	QWORD PTR mark$97051[rsp], rax

; 212  : 		LogVAList (format, mark);

	lea	rdx, QWORD PTR mark$97051[rsp]
	mov	rcx, QWORD PTR format$[rsp]
	call	?LogVAList@@YAXPEBDAEAPEAD@Z		; LogVAList
$LN1@MsgV:
$LN6@MsgV:

; 213  : 	}
; 214  : 	// f->dwReference--;
; 215  : }

	add	rsp, 72					; 00000048H
	ret	0
?MsgV@@YAXPEBD0ZZ ENDP					; MsgV
_TEXT	ENDS
PUBLIC	?Msg@@YAXPEBDZZ					; Msg
pdata	SEGMENT
$pdata$?Msg@@YAXPEBDZZ DD imagerel $LN3
	DD	imagerel $LN3+54
	DD	imagerel $unwind$?Msg@@YAXPEBDZZ
pdata	ENDS
xdata	SEGMENT
$unwind$?Msg@@YAXPEBDZZ DD 011801H
	DD	06218H
; Function compile flags: /Odspy
xdata	ENDS
_TEXT	SEGMENT
mark$ = 32
format$ = 64
?Msg@@YAXPEBDZZ PROC					; Msg

; 154  : {

$LN3:
	mov	QWORD PTR [rsp+8], rcx
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+24], r8
	mov	QWORD PTR [rsp+32], r9
	sub	rsp, 56					; 00000038H

; 155  : 	va_list mark;	
; 156  : 	va_start	(mark, format );

	lea	rax, QWORD PTR format$[rsp+8]
	mov	QWORD PTR mark$[rsp], rax

; 157  : 	LogVAList   (format, mark);

	lea	rdx, QWORD PTR mark$[rsp]
	mov	rcx, QWORD PTR format$[rsp]
	call	?LogVAList@@YAXPEBDAEAPEAD@Z		; LogVAList

; 158  : }

	add	rsp, 56					; 00000038H
	ret	0
?Msg@@YAXPEBDZZ ENDP					; Msg
PUBLIC	?LogWinErr@@YAXPEBDJ@Z				; LogWinErr
pdata	SEGMENT
$pdata$?LogWinErr@@YAXPEBDJ@Z DD imagerel $LN3
	DD	imagerel $LN3+54
	DD	imagerel $unwind$?LogWinErr@@YAXPEBDJ@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?LogWinErr@@YAXPEBDJ@Z DD 010d01H
	DD	0420dH
; Function compile flags: /Odspy
xdata	ENDS
_TEXT	SEGMENT
msg$ = 48
err_code$ = 56
?LogWinErr@@YAXPEBDJ@Z PROC				; LogWinErr

; 264  : void LogWinErr			(const char *msg, long err_code)	{

$LN3:
	mov	DWORD PTR [rsp+16], edx
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 40					; 00000028H

; 265  : 	Msg					("%s: %s",msg,Debug.error2string(err_code)	);

	mov	edx, DWORD PTR err_code$[rsp]
	lea	rcx, OFFSET FLAT:?Debug@@3VxrDebug@@A	; Debug
	call	?error2string@xrDebug@@QEAAPEBDJ@Z	; xrDebug::error2string
	mov	r8, rax
	mov	rdx, QWORD PTR msg$[rsp]
	lea	rcx, OFFSET FLAT:??_C@_06DJHOIPC@?$CFs?3?5?$CFs?$AA@
	call	?Msg@@YAXPEBDZZ				; Msg

; 266  : }

	add	rsp, 40					; 00000028H
	ret	0
?LogWinErr@@YAXPEBDJ@Z ENDP				; LogWinErr
_TEXT	ENDS
PUBLIC	?MsgCB@@YAXPEBDZZ				; MsgCB
;	COMDAT ?ctx_ring@?1??MsgCB@@YAXPEBDZZ@4PAY0BAAA@DA
; File c:\program files (x86)\microsoft visual studio 10.0\vc\include\string.h
_BSS	SEGMENT
?ctx_ring@?1??MsgCB@@YAXPEBDZZ@4PAY0BAAA@DA DB 010000H DUP (?) ; `MsgCB'::`2'::ctx_ring
_BSS	ENDS
pdata	SEGMENT
$pdata$?MsgCB@@YAXPEBDZZ DD imagerel $LN13
	DD	imagerel $LN13+463
	DD	imagerel $unwind$?MsgCB@@YAXPEBDZZ
pdata	ENDS
xdata	SEGMENT
$unwind$?MsgCB@@YAXPEBDZZ DD 022101H
	DD	020f0121H
; Function compile flags: /Odspy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\log.cpp
xdata	ENDS
_TEXT	SEGMENT
buf$ = 64
mark$ = 4160
sz$ = 4168
lt$97027 = 4176
dest$97028 = 4192
i$97033 = 4200
format$ = 4224
?MsgCB@@YAXPEBDZZ PROC					; MsgCB

; 161  : {

$LN13:
	mov	QWORD PTR [rsp+8], rcx
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+24], r8
	mov	QWORD PTR [rsp+32], r9
	mov	eax, 4216				; 00001078H
	call	__chkstk
	sub	rsp, rax

; 162  : 	static string4096 ctx_ring[16];   // кольцевой буфер для сохранения данных контекста выполнения (выводится при сбое, или по необходимости)
; 163  : 	static u32 ctx_index = 0;
; 164  : 
; 165  : 	va_list mark;
; 166  : 	string4096	buf;
; 167  : 	va_start(mark, format);

	lea	rax, QWORD PTR format$[rsp+8]
	mov	QWORD PTR mark$[rsp], rax

; 168  : 	int sz = _vsnprintf(buf, sizeof(buf)-1, format, mark); buf[sizeof(buf)-1] = 0;

	mov	r9, QWORD PTR mark$[rsp]
	mov	r8, QWORD PTR format$[rsp]
	mov	edx, 4095				; 00000fffH
	lea	rcx, QWORD PTR buf$[rsp]
	call	QWORD PTR __imp__vsnprintf
	mov	DWORD PTR sz$[rsp], eax
	mov	BYTE PTR buf$[rsp+4095], 0

; 169  : 	va_end(mark);

	mov	QWORD PTR mark$[rsp], 0

; 170  : 	// функция двойного назначения: может использоваться для вотчинга произвольных переменных в местах потенциальных сбоев
; 171  : 	if (strstr(buf, "#CONTEXT:"))

	lea	rdx, OFFSET FLAT:??_C@_09PMCACMHN@?$CDCONTEXT?3?$AA@
	lea	rcx, QWORD PTR buf$[rsp]
	call	?strstr@@YAPEADPEADPEBD@Z		; strstr
	test	rax, rax
	je	$LN6@MsgCB

; 172  : 	{
; 173  : 		SYSTEMTIME lt;
; 174  : 		GetLocalTime(&lt);

	lea	rcx, QWORD PTR lt$97027[rsp]
	call	QWORD PTR __imp_GetLocalTime

; 175  : 		LPSTR dest = ctx_ring[ctx_index & 15];

	mov	eax, DWORD PTR ?ctx_index@?1??MsgCB@@YAXPEBDZZ@4IA
	and	eax, 15
	mov	eax, eax
	imul	rax, 4096				; 00001000H
	lea	rcx, OFFSET FLAT:?ctx_ring@?1??MsgCB@@YAXPEBDZZ@4PAY0BAAA@DA
	add	rcx, rax
	mov	rax, rcx
	mov	QWORD PTR dest$97028[rsp], rax

; 176  : 		ctx_index++;

	mov	eax, DWORD PTR ?ctx_index@?1??MsgCB@@YAXPEBDZZ@4IA
	inc	eax
	mov	DWORD PTR ?ctx_index@?1??MsgCB@@YAXPEBDZZ@4IA, eax

; 177  : 		// copy-paste forever	
; 178  : 		sprintf_s(dest, sizeof(buf) - 1, "[%02d:%02d:%02d.%03d]. %s", lt.wHour, lt.wMinute, lt.wSecond, lt.wMilliseconds, buf);						

	movzx	eax, WORD PTR lt$97027[rsp+14]
	movzx	ecx, WORD PTR lt$97027[rsp+12]
	movzx	edx, WORD PTR lt$97027[rsp+10]
	movzx	r8d, WORD PTR lt$97027[rsp+8]
	lea	r9, QWORD PTR buf$[rsp]
	mov	QWORD PTR [rsp+56], r9
	mov	DWORD PTR [rsp+48], eax
	mov	DWORD PTR [rsp+40], ecx
	mov	DWORD PTR [rsp+32], edx
	mov	r9d, r8d
	lea	r8, OFFSET FLAT:??_C@_0BK@EDFKPBBE@?$FL?$CF02d?3?$CF02d?3?$CF02d?4?$CF03d?$FN?4?5?$CFs?$AA@
	mov	edx, 4095				; 00000fffH
	mov	rcx, QWORD PTR dest$97028[rsp]
	call	QWORD PTR __imp_sprintf_s

; 179  : 		return;

	jmp	$LN7@MsgCB
$LN6@MsgCB:

; 180  : 	}
; 181  : 	if (strstr(buf, "#DUMP_CONTEXT"))

	lea	rdx, OFFSET FLAT:??_C@_0O@LCKMNMMD@?$CDDUMP_CONTEXT?$AA@
	lea	rcx, QWORD PTR buf$[rsp]
	call	?strstr@@YAPEADPEADPEBD@Z		; strstr
	test	rax, rax
	je	SHORT $LN5@MsgCB

; 182  : 	{
; 183  : 		Log("#DEBUG CONTEXT DUMP:");

	lea	rcx, OFFSET FLAT:??_C@_0BF@FNJBEDFL@?$CDDEBUG?5CONTEXT?5DUMP?3?$AA@
	call	?Log@@YAXPEBD@Z				; Log

; 184  : 		for (u32 i = 15; i > 0; i--)

	mov	DWORD PTR i$97033[rsp], 15
	jmp	SHORT $LN4@MsgCB
$LN3@MsgCB:
	mov	eax, DWORD PTR i$97033[rsp]
	dec	eax
	mov	DWORD PTR i$97033[rsp], eax
$LN4@MsgCB:
	cmp	DWORD PTR i$97033[rsp], 0
	jbe	SHORT $LN2@MsgCB

; 185  : 			Msg("# %s", ctx_ring[(ctx_index + i) & 15]);

	mov	eax, DWORD PTR i$97033[rsp]
	mov	ecx, DWORD PTR ?ctx_index@?1??MsgCB@@YAXPEBDZZ@4IA
	add	ecx, eax
	mov	eax, ecx
	and	eax, 15
	mov	eax, eax
	imul	rax, 4096				; 00001000H
	lea	rcx, OFFSET FLAT:?ctx_ring@?1??MsgCB@@YAXPEBDZZ@4PAY0BAAA@DA
	add	rcx, rax
	mov	rax, rcx
	mov	rdx, rax
	lea	rcx, OFFSET FLAT:??_C@_04CFBKFMDG@?$CD?5?$CFs?$AA@
	call	?Msg@@YAXPEBDZZ				; Msg
	jmp	SHORT $LN3@MsgCB
$LN2@MsgCB:

; 186  : 
; 187  : 		return;

	jmp	SHORT $LN7@MsgCB
$LN5@MsgCB:

; 188  : 	}
; 189  : 
; 190  : 	if (NULL != LogCB && sz)		LogCB(buf);

	cmp	QWORD PTR LogCB, 0
	je	SHORT $LN1@MsgCB
	cmp	DWORD PTR sz$[rsp], 0
	je	SHORT $LN1@MsgCB
	lea	rcx, QWORD PTR buf$[rsp]
	call	QWORD PTR LogCB
$LN1@MsgCB:
$LN7@MsgCB:

; 191  : }

	add	rsp, 4216				; 00001078H
	ret	0
?MsgCB@@YAXPEBDZZ ENDP					; MsgCB
;	COMDAT pdata
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\_stl_extensions.h
pdata	SEGMENT
$pdata$??$xr_new@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@YAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@XZ DD imagerel $LN17
	DD	imagerel $LN17+85
	DD	imagerel $unwind$??$xr_new@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@YAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@XZ
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??$xr_new@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@YAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@XZ DD 010401H
	DD	0a204H
; Function compile flags: /Odspy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\xrmemory_subst_msvc.h
xdata	ENDS
;	COMDAT ??$xr_new@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@YAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@XZ
_TEXT	SEGMENT
ptr$ = 32
$T281532 = 40
tv73 = 64
??$xr_new@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@YAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@XZ PROC ; xr_new<xr_vector<shared_str,xalloc<shared_str> > >, COMDAT

; 67   : {

$LN17:
	sub	rsp, 88					; 00000058H

; 68   : 	T* ptr	= (T*)Memory.mem_alloc(sizeof(T));

	mov	edx, 32					; 00000020H
	lea	rcx, OFFSET FLAT:?Memory@@3VxrMemory@@A	; Memory
	call	?mem_alloc@xrMemory@@QEAAPEAX_K@Z	; xrMemory::mem_alloc
	mov	QWORD PTR ptr$[rsp], rax

; 69   : 	return new (ptr) T();

	mov	rcx, QWORD PTR ptr$[rsp]
	call	??2@YAPEAX_KPEAX@Z			; operator new
	mov	QWORD PTR $T281532[rsp], rax
	cmp	QWORD PTR $T281532[rsp], 0
	je	SHORT $LN3@xr_new@4
	mov	rcx, QWORD PTR $T281532[rsp]
	call	??0?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAA@XZ ; xr_vector<shared_str,xalloc<shared_str> >::xr_vector<shared_str,xalloc<shared_str> >
	mov	QWORD PTR tv73[rsp], rax
	jmp	SHORT $LN4@xr_new@4
$LN3@xr_new@4:
	mov	QWORD PTR tv73[rsp], 0
$LN4@xr_new@4:
	mov	rax, QWORD PTR tv73[rsp]

; 70   : }

	add	rsp, 88					; 00000058H
	ret	0
??$xr_new@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@YAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@XZ ENDP ; xr_new<xr_vector<shared_str,xalloc<shared_str> > >
_TEXT	ENDS
PUBLIC	?InitLog@@YAXXZ					; InitLog
pdata	SEGMENT
$pdata$?InitLog@@YAXXZ DD imagerel $LN23
	DD	imagerel $LN23+104
	DD	imagerel $unwind$?InitLog@@YAXXZ
pdata	ENDS
xdata	SEGMENT
$unwind$?InitLog@@YAXXZ DD 010401H
	DD	0a204H
; Function compile flags: /Odspy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\log.cpp
xdata	ENDS
_TEXT	SEGMENT
?InitLog@@YAXXZ PROC					; InitLog

; 304  : {

$LN23:
	sub	rsp, 88					; 00000058H
$LN4@InitLog:

; 305  : 	R_ASSERT			(LogFile==NULL);

	movzx	eax, BYTE PTR ?ignore_always@?3??InitLog@@YAXXZ@4_NA
	test	eax, eax
	jne	SHORT $LN1@InitLog
	cmp	QWORD PTR ?LogFile@@3PEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@EA, 0 ; LogFile
	je	SHORT $LN1@InitLog
	lea	rax, OFFSET FLAT:?ignore_always@?3??InitLog@@YAXXZ@4_NA
	mov	QWORD PTR [rsp+40], rax
	lea	rax, OFFSET FLAT:??_C@_07OMNKEAIN@InitLog?$AA@
	mov	QWORD PTR [rsp+32], rax
	mov	r9d, 305				; 00000131H
	lea	r8, OFFSET FLAT:??_C@_07FJDKEOKC@log?4cpp?$AA@
	lea	rdx, OFFSET FLAT:??_C@_0O@EOBOPHIF@LogFile?$DN?$DNNULL?$AA@
	lea	rcx, OFFSET FLAT:?Debug@@3VxrDebug@@A	; Debug
	call	?fail@xrDebug@@QEAAXPEBD0H0AEA_N@Z	; xrDebug::fail
$LN1@InitLog:
	xor	eax, eax
	test	eax, eax
	jne	SHORT $LN4@InitLog

; 306  : 	LogFile				= xr_new< xr_vector<shared_str> >();

	call	??$xr_new@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@YAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@XZ ; xr_new<xr_vector<shared_str,xalloc<shared_str> > >
	mov	QWORD PTR ?LogFile@@3PEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@EA, rax ; LogFile

; 307  : }

	add	rsp, 88					; 00000058H
	ret	0
?InitLog@@YAXXZ ENDP					; InitLog
PUBLIC	?CreateLog@@YAXH@Z				; CreateLog
pdata	SEGMENT
$pdata$?CreateLog@@YAXH@Z DD imagerel $LN59
	DD	imagerel $LN59+489
	DD	imagerel $unwind$?CreateLog@@YAXH@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?CreateLog@@YAXH@Z DD 020b01H
	DD	01b010bH
; Function compile flags: /Odspy
xdata	ENDS
_TEXT	SEGMENT
buf$97147 = 48
ti$97146 = 112
t$97145 = 120
it$97149 = 128
s$97153 = 136
tv140 = 192
nl$ = 224
?CreateLog@@YAXH@Z PROC					; CreateLog

; 310  : {

$LN59:
	mov	DWORD PTR [rsp+8], ecx
	sub	rsp, 216				; 000000d8H

; 311  :     no_log				= nl;

	mov	eax, DWORD PTR nl$[rsp]
	mov	DWORD PTR no_log, eax

; 312  : 	strconcat			(sizeof(logFName),logFName,Core.ApplicationName,"_",Core.UserName,".log");

	lea	rax, OFFSET FLAT:??_C@_04FPOLKAEB@?4log?$AA@
	mov	QWORD PTR [rsp+40], rax
	lea	rax, OFFSET FLAT:?Core@@3VxrCore@@A+1104
	mov	QWORD PTR [rsp+32], rax
	lea	r9, OFFSET FLAT:??_C@_01IDAFKMJL@_?$AA@
	lea	r8, OFFSET FLAT:?Core@@3VxrCore@@A	; Core
	lea	rdx, OFFSET FLAT:logFName
	mov	ecx, 520				; 00000208H
	call	?strconcat@@YAPEBDHPEADPEBD111@Z	; strconcat

; 313  : 	if (FS.path_exist("$logs$"))

	lea	rdx, OFFSET FLAT:??_C@_06DMJLOKKG@$logs$?$AA@
	mov	rcx, QWORD PTR ?xr_FS@@3PEAVCLocatorAPI@@EA ; xr_FS
	call	?path_exist@CLocatorAPI@@QEAA_NPEBD@Z	; CLocatorAPI::path_exist
	movzx	eax, al
	test	eax, eax
	je	SHORT $LN6@CreateLog

; 314  : 		FS.update_path	(logFName,"$logs$",logFName);

	lea	r9, OFFSET FLAT:logFName
	lea	r8, OFFSET FLAT:??_C@_06DMJLOKKG@$logs$?$AA@
	lea	rdx, OFFSET FLAT:logFName
	mov	rcx, QWORD PTR ?xr_FS@@3PEAVCLocatorAPI@@EA ; xr_FS
	call	?update_path@CLocatorAPI@@QEAAPEBDAEAY0CAI@DPEBD1@Z ; CLocatorAPI::update_path
$LN6@CreateLog:

; 315  : 	if (!no_log){

	cmp	DWORD PTR no_log, 0
	jne	$LN5@CreateLog

; 316  : 
; 317  : 		LogWriter = FS.w_open	(logFName);

	lea	rdx, OFFSET FLAT:logFName
	mov	rcx, QWORD PTR ?xr_FS@@3PEAVCLocatorAPI@@EA ; xr_FS
	call	?w_open@CLocatorAPI@@QEAAPEAVIWriter@@PEBD@Z ; CLocatorAPI::w_open
	mov	QWORD PTR ?LogWriter@@3PEAVIWriter@@EA, rax ; LogWriter

; 318  :         if (LogWriter == NULL){

	cmp	QWORD PTR ?LogWriter@@3PEAVIWriter@@EA, 0 ; LogWriter
	jne	SHORT $LN4@CreateLog

; 319  :         	MessageBox	(NULL,"Can't create log file.","Error",MB_ICONERROR);

	mov	r9d, 16
	lea	r8, OFFSET FLAT:??_C@_05NAOIJFC@Error?$AA@
	lea	rdx, OFFSET FLAT:??_C@_0BH@FLDDKOBP@Can?8t?5create?5log?5file?4?$AA@
	xor	ecx, ecx
	call	QWORD PTR __imp_MessageBoxA

; 320  :         	abort();

	call	QWORD PTR __imp_abort
$LN4@CreateLog:

; 321  :         }		
; 322  : 	
; 323  : 		time_t t = time(NULL);

	xor	ecx, ecx
	call	time
	mov	QWORD PTR t$97145[rsp], rax

; 324  : 		tm* ti = localtime(&t);

	lea	rcx, QWORD PTR t$97145[rsp]
	call	localtime
	mov	QWORD PTR ti$97146[rsp], rax

; 325  : 		char buf[64];
; 326  : 		strftime(buf, 64, "[%x %X]\t", ti);

	mov	r9, QWORD PTR ti$97146[rsp]
	lea	r8, OFFSET FLAT:??_C@_08DCHCECCB@?$FL?$CFx?5?$CFX?$FN?7?$AA@
	mov	edx, 64					; 00000040H
	lea	rcx, QWORD PTR buf$97147[rsp]
	call	QWORD PTR __imp_strftime

; 327  : 
; 328  :         for (u32 it=0; it<LogFile->size(); it++)	{

	mov	DWORD PTR it$97149[rsp], 0
	jmp	SHORT $LN3@CreateLog
$LN2@CreateLog:
	mov	eax, DWORD PTR it$97149[rsp]
	inc	eax
	mov	DWORD PTR it$97149[rsp], eax
$LN3@CreateLog:
	mov	rcx, QWORD PTR ?LogFile@@3PEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@EA ; LogFile
	call	?size@?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEBAIXZ ; xr_vector<shared_str,xalloc<shared_str> >::size
	cmp	DWORD PTR it$97149[rsp], eax
	jae	SHORT $LN1@CreateLog

; 329  : 			LPCSTR		s	= *((*LogFile)[it]);

	mov	eax, DWORD PTR it$97149[rsp]
	mov	edx, eax
	mov	rcx, QWORD PTR ?LogFile@@3PEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@EA ; LogFile
	call	??A?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAAAEAVshared_str@@_K@Z ; xr_vector<shared_str,xalloc<shared_str> >::operator[]
	mov	rcx, rax
	call	??Dshared_str@@QEBAPEBDXZ		; shared_str::operator*
	mov	QWORD PTR s$97153[rsp], rax

; 330  : 			LogWriter->w_printf("%s%s\n", buf, s?s:"");

	cmp	QWORD PTR s$97153[rsp], 0
	je	SHORT $LN9@CreateLog
	mov	rax, QWORD PTR s$97153[rsp]
	mov	QWORD PTR tv140[rsp], rax
	jmp	SHORT $LN10@CreateLog
$LN9@CreateLog:
	lea	rax, OFFSET FLAT:??_C@_00CNPNBAHC@?$AA@
	mov	QWORD PTR tv140[rsp], rax
$LN10@CreateLog:
	mov	r9, QWORD PTR tv140[rsp]
	lea	r8, QWORD PTR buf$97147[rsp]
	lea	rdx, OFFSET FLAT:??_C@_05JMJKDBEJ@?$CFs?$CFs?6?$AA@
	mov	rcx, QWORD PTR ?LogWriter@@3PEAVIWriter@@EA ; LogWriter
	call	?w_printf@IWriter@@QEAAXPEBDZZ		; IWriter::w_printf

; 331  : 		}

	jmp	$LN2@CreateLog
$LN1@CreateLog:

; 332  : 		LogWriter->flush();

	mov	rax, QWORD PTR ?LogWriter@@3PEAVIWriter@@EA ; LogWriter
	mov	rax, QWORD PTR [rax]
	mov	rcx, QWORD PTR ?LogWriter@@3PEAVIWriter@@EA ; LogWriter
	call	QWORD PTR [rax+40]
$LN5@CreateLog:

; 333  :     }
; 334  : 	LogFile->reserve		(128);

	mov	edx, 128				; 00000080H
	mov	rcx, QWORD PTR ?LogFile@@3PEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@EA ; LogFile
	call	?reserve@?$vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@std@@QEAAX_K@Z ; std::vector<shared_str,xalloc<shared_str> >::reserve

; 335  : }

	add	rsp, 216				; 000000d8H
	ret	0
?CreateLog@@YAXH@Z ENDP					; CreateLog
PUBLIC	?CloseLog@@YAXXZ				; CloseLog
pdata	SEGMENT
$pdata$?CloseLog@@YAXXZ DD imagerel $LN45
	DD	imagerel $LN45+67
	DD	imagerel $unwind$?CloseLog@@YAXXZ
pdata	ENDS
xdata	SEGMENT
$unwind$?CloseLog@@YAXXZ DD 010401H
	DD	0c204H
; Function compile flags: /Odspy
xdata	ENDS
_TEXT	SEGMENT
?CloseLog@@YAXXZ PROC					; CloseLog

; 338  : {

$LN45:
	sub	rsp, 104				; 00000068H

; 339  : 	if(LogWriter){

	cmp	QWORD PTR ?LogWriter@@3PEAVIWriter@@EA, 0 ; LogWriter
	je	SHORT $LN1@CloseLog

; 340  : 		FS.w_close(LogWriter);

	lea	rdx, OFFSET FLAT:?LogWriter@@3PEAVIWriter@@EA ; LogWriter
	mov	rcx, QWORD PTR ?xr_FS@@3PEAVCLocatorAPI@@EA ; xr_FS
	call	?w_close@CLocatorAPI@@QEAAXAEAPEAVIWriter@@@Z ; CLocatorAPI::w_close
$LN1@CloseLog:

; 341  : 	}
; 342  : 
; 343  : 	FlushLog		();

	call	?FlushLog@@YAXXZ			; FlushLog

; 344  :  	LogFile->clear	();

	mov	rcx, QWORD PTR ?LogFile@@3PEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@EA ; LogFile
	call	?clear@?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@QEAAXXZ ; xr_vector<shared_str,xalloc<shared_str> >::clear

; 345  : 	xr_delete		(LogFile);

	lea	rcx, OFFSET FLAT:?LogFile@@3PEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@EA ; LogFile
	call	??$xr_delete@V?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@@YAXAEAPEAV?$xr_vector@Vshared_str@@V?$xalloc@Vshared_str@@@@@@@Z ; xr_delete<xr_vector<shared_str,xalloc<shared_str> > >

; 346  : }

	add	rsp, 104				; 00000068H
	ret	0
?CloseLog@@YAXXZ ENDP					; CloseLog
;	COMDAT pdata
; File c:\program files (x86)\microsoft visual studio 10.0\vc\include\xtree
pdata	SEGMENT
$pdata$??__Everbosity_filters@@YAXXZ DD imagerel ??__Everbosity_filters@@YAXXZ
	DD	imagerel ??__Everbosity_filters@@YAXXZ+135
	DD	imagerel $unwind$??__Everbosity_filters@@YAXXZ
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??__Everbosity_filters@@YAXXZ DD 010401H
	DD	04204H
; Function compile flags: /Ogtpy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\log.cpp
xdata	ENDS
;	COMDAT ??__Everbosity_filters@@YAXXZ
text$yc	SEGMENT
??__Everbosity_filters@@YAXXZ PROC			; `dynamic initializer for 'verbosity_filters'', COMDAT

; 13   : str_container				verbosity_filters; // набор фильтров для вывода регулярных сообщений

	sub	rsp, 40					; 00000028H
	lea	rcx, OFFSET FLAT:?Memory@@3VxrMemory@@A	; Memory
	mov	edx, 40					; 00000028H
	call	?mem_alloc@xrMemory@@QEAAPEAX_K@Z	; xrMemory::mem_alloc
	mov	rcx, rax
	mov	QWORD PTR ?verbosity_filters@@3Vstr_container@@A, rax
	call	QWORD PTR __imp_InitializeCriticalSection
	lea	rcx, OFFSET FLAT:?Memory@@3VxrMemory@@A	; Memory
	mov	edx, 40					; 00000028H
	mov	QWORD PTR ?verbosity_filters@@3Vstr_container@@A+24, 0
	call	?mem_alloc@xrMemory@@QEAAPEAX_K@Z	; xrMemory::mem_alloc
	lea	rcx, OFFSET FLAT:??__Fverbosity_filters@@YAXXZ ; `dynamic atexit destructor for 'verbosity_filters''
	mov	QWORD PTR ?verbosity_filters@@3Vstr_container@@A+16, rax
	mov	QWORD PTR [rax], rax
	mov	rax, QWORD PTR ?verbosity_filters@@3Vstr_container@@A+16
	mov	QWORD PTR [rax+8], rax
	mov	rax, QWORD PTR ?verbosity_filters@@3Vstr_container@@A+16
	mov	QWORD PTR [rax+16], rax
	mov	rax, QWORD PTR ?verbosity_filters@@3Vstr_container@@A+16
	mov	BYTE PTR [rax+32], 1
	mov	rax, QWORD PTR ?verbosity_filters@@3Vstr_container@@A+16
	mov	BYTE PTR [rax+33], 1
	add	rsp, 40					; 00000028H
	jmp	atexit
??__Everbosity_filters@@YAXXZ ENDP			; `dynamic initializer for 'verbosity_filters''
text$yc	ENDS
;	COMDAT pdata
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\xrmemory.h
pdata	SEGMENT
$pdata$??__ElogCS@@YAXXZ DD imagerel ??__ElogCS@@YAXXZ
	DD	imagerel ??__ElogCS@@YAXXZ+53
	DD	imagerel $unwind$??__ElogCS@@YAXXZ
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??__ElogCS@@YAXXZ DD 010401H
	DD	04204H
; Function compile flags: /Ogtpy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\log.cpp
xdata	ENDS
;	COMDAT ??__ElogCS@@YAXXZ
text$yc	SEGMENT
??__ElogCS@@YAXXZ PROC					; `dynamic initializer for 'logCS'', COMDAT

; 22   : 	static xrCriticalSection	logCS;

	sub	rsp, 40					; 00000028H
	lea	rcx, OFFSET FLAT:?Memory@@3VxrMemory@@A	; Memory
	mov	edx, 40					; 00000028H
	call	?mem_alloc@xrMemory@@QEAAPEAX_K@Z	; xrMemory::mem_alloc
	mov	rcx, rax
	mov	QWORD PTR logCS, rax
	call	QWORD PTR __imp_InitializeCriticalSection
	lea	rcx, OFFSET FLAT:??__FlogCS@@YAXXZ	; `dynamic atexit destructor for 'logCS''
	add	rsp, 40					; 00000028H
	jmp	atexit
??__ElogCS@@YAXXZ ENDP					; `dynamic initializer for 'logCS''
;	COMDAT pdata
pdata	SEGMENT
$pdata$??__FlogCS@@YAXXZ DD imagerel ??__FlogCS@@YAXXZ
	DD	imagerel ??__FlogCS@@YAXXZ+40
	DD	imagerel $unwind$??__FlogCS@@YAXXZ
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$0$??__FlogCS@@YAXXZ DD imagerel ??__FlogCS@@YAXXZ+40
	DD	imagerel ??__FlogCS@@YAXXZ+75
	DD	imagerel $chain$0$??__FlogCS@@YAXXZ
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$2$??__FlogCS@@YAXXZ DD imagerel ??__FlogCS@@YAXXZ+75
	DD	imagerel ??__FlogCS@@YAXXZ+139
	DD	imagerel $chain$2$??__FlogCS@@YAXXZ
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$3$??__FlogCS@@YAXXZ DD imagerel ??__FlogCS@@YAXXZ+139
	DD	imagerel ??__FlogCS@@YAXXZ+155
	DD	imagerel $chain$3$??__FlogCS@@YAXXZ
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$4$??__FlogCS@@YAXXZ DD imagerel ??__FlogCS@@YAXXZ+155
	DD	imagerel ??__FlogCS@@YAXXZ+160
	DD	imagerel $chain$4$??__FlogCS@@YAXXZ
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$4$??__FlogCS@@YAXXZ DD 021H
	DD	imagerel ??__FlogCS@@YAXXZ
	DD	imagerel ??__FlogCS@@YAXXZ+40
	DD	imagerel $unwind$??__FlogCS@@YAXXZ
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$3$??__FlogCS@@YAXXZ DD 021H
	DD	imagerel ??__FlogCS@@YAXXZ+40
	DD	imagerel ??__FlogCS@@YAXXZ+75
	DD	imagerel $chain$0$??__FlogCS@@YAXXZ
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$2$??__FlogCS@@YAXXZ DD 040e21H
	DD	07640eH
	DD	063405H
	DD	imagerel ??__FlogCS@@YAXXZ+40
	DD	imagerel ??__FlogCS@@YAXXZ+75
	DD	imagerel $chain$0$??__FlogCS@@YAXXZ
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$0$??__FlogCS@@YAXXZ DD 020521H
	DD	047405H
	DD	imagerel ??__FlogCS@@YAXXZ
	DD	imagerel ??__FlogCS@@YAXXZ+40
	DD	imagerel $unwind$??__FlogCS@@YAXXZ
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??__FlogCS@@YAXXZ DD 010401H
	DD	04204H
; Function compile flags: /Ogtpy
xdata	ENDS
;	COMDAT ??__FlogCS@@YAXXZ
text$yd	SEGMENT
??__FlogCS@@YAXXZ PROC					; `dynamic atexit destructor for 'logCS'', COMDAT
	sub	rsp, 40					; 00000028H
	mov	rcx, QWORD PTR logCS
	call	QWORD PTR __imp_DeleteCriticalSection
	mov	r11, QWORD PTR logCS
	test	r11, r11
	je	SHORT $LN5@dynamic@4
	inc	DWORD PTR ?Memory@@3VxrMemory@@A
	movzx	eax, BYTE PTR [r11-1]
	mov	QWORD PTR [rsp+32], rdi
	lea	rdi, QWORD PTR [r11-1]
	cmp	eax, 55					; 00000037H
	jne	SHORT $LN10@dynamic@4
	test	rdi, rdi
	je	SHORT $LN31@dynamic@4
	and	rdi, -8
	mov	rcx, QWORD PTR [rdi-8]
	call	QWORD PTR __imp_free
	jmp	SHORT $LN31@dynamic@4
$LN10@dynamic@4:
	mov	QWORD PTR [rsp+48], rbx
	lea	rbx, QWORD PTR [rax+rax*4]
	mov	QWORD PTR [rsp+56], rsi
	lea	rsi, OFFSET FLAT:?mem_pools@@3PAVMEMPOOL@@A ; mem_pools
	mov	rcx, QWORD PTR [rsi+rbx*8]
	call	QWORD PTR __imp_EnterCriticalSection
	mov	rax, QWORD PTR [rsi+rbx*8+32]
	mov	QWORD PTR [rdi], rax
	mov	rcx, QWORD PTR [rsi+rbx*8]
	mov	QWORD PTR [rsi+rbx*8+32], rdi
	call	QWORD PTR __imp_LeaveCriticalSection
	mov	rsi, QWORD PTR [rsp+56]
	mov	rbx, QWORD PTR [rsp+48]
$LN31@dynamic@4:
	mov	rdi, QWORD PTR [rsp+32]
	mov	QWORD PTR logCS, 0
$LN5@dynamic@4:
	add	rsp, 40					; 00000028H
	ret	0
??__FlogCS@@YAXXZ ENDP					; `dynamic atexit destructor for 'logCS''
;	COMDAT pdata
pdata	SEGMENT
$pdata$??__Fverbosity_filters@@YAXXZ DD imagerel ??__Fverbosity_filters@@YAXXZ
	DD	imagerel ??__Fverbosity_filters@@YAXXZ+97
	DD	imagerel $unwind$??__Fverbosity_filters@@YAXXZ
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??__Fverbosity_filters@@YAXXZ DD 010401H
	DD	04204H
; Function compile flags: /Ogtpy
xdata	ENDS
;	COMDAT ??__Fverbosity_filters@@YAXXZ
text$yd	SEGMENT
$T384295 = 48
$T384410 = 48
??__Fverbosity_filters@@YAXXZ PROC			; `dynamic atexit destructor for 'verbosity_filters'', COMDAT
	sub	rsp, 40					; 00000028H
	lea	rcx, OFFSET FLAT:?verbosity_filters@@3Vstr_container@@A ; verbosity_filters
	call	?clean@str_container@@QEAAXXZ		; str_container::clean
	mov	r8, QWORD PTR ?verbosity_filters@@3Vstr_container@@A+16
	lea	rdx, QWORD PTR $T384410[rsp]
	mov	r9, r8
	mov	r8, QWORD PTR [r8]
	lea	rcx, OFFSET FLAT:?verbosity_filters@@3Vstr_container@@A+8
	call	?erase@?$_Tree@V?$_Tset_traits@PEAUstr_value@@Ustr_value_cmp@@V?$xalloc@PEAUstr_value@@@@$00@std@@@std@@QEAA?AV?$_Tree_const_iterator@V?$_Tree_val@V?$_Tset_traits@PEAUstr_value@@Ustr_value_cmp@@V?$xalloc@PEAUstr_value@@@@$00@std@@@std@@@2@V32@0@Z ; std::_Tree<std::_Tset_traits<str_value * __ptr64,str_value_cmp,xalloc<str_value * __ptr64>,1> >::erase
	mov	r11, QWORD PTR ?verbosity_filters@@3Vstr_container@@A+16
	lea	rcx, QWORD PTR $T384295[rsp]
	mov	QWORD PTR $T384295[rsp], r11
	call	??$xr_free@U_Node@?$_Tree_nod@V?$_Tset_traits@PEAUstr_value@@Ustr_value_cmp@@V?$xalloc@PEAUstr_value@@@@$00@std@@@std@@@@YAXAEAPEAU_Node@?$_Tree_nod@V?$_Tset_traits@PEAUstr_value@@Ustr_value_cmp@@V?$xalloc@PEAUstr_value@@@@$00@std@@@std@@@Z ; xr_free<std::_Tree_nod<std::_Tset_traits<str_value * __ptr64,str_value_cmp,xalloc<str_value * __ptr64>,1> >::_Node>
	mov	rcx, QWORD PTR ?verbosity_filters@@3Vstr_container@@A
	call	QWORD PTR __imp_DeleteCriticalSection
	lea	rcx, OFFSET FLAT:?verbosity_filters@@3Vstr_container@@A ; verbosity_filters
	add	rsp, 40					; 00000028H
	jmp	??$xr_free@X@@YAXAEAPEAX@Z		; xr_free<void>
??__Fverbosity_filters@@YAXXZ ENDP			; `dynamic atexit destructor for 'verbosity_filters''
PUBLIC	?verbosity_filters@@3Vstr_container@@A		; verbosity_filters
	ALIGN	8

logCS	DQ	01H DUP (?)
?verbosity_filters@@3Vstr_container@@A DB 028H DUP (?)	; verbosity_filters
verbosity_filters$initializer$ DQ FLAT:??__Everbosity_filters@@YAXXZ
logCS$initializer$ DQ FLAT:??__ElogCS@@YAXXZ
END
